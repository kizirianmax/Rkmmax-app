5e29d41b7442415e8f261838477e0ff6
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
/**
 * SPECIALIST SELECTOR
 * SeleÃ§Ã£o inteligente de especialista baseada no tipo de tarefa
 * Mapeia tarefas para os 54+ especialistas do RKMMAX
 */

class SpecialistSelector {
  constructor() {
    // Mapeamento de especialistas por categoria
    this.specialists = {
      // Desenvolvimento
      'Dev': {
        name: 'Dev',
        category: 'DEVELOPMENT',
        skills: ['cÃ³digo', 'programaÃ§Ã£o', 'funÃ§Ã£o', 'refatorar', 'bug', 'feature'],
        models: ['gemini-2.5-pro', 'gemini-2.0-flash']
      },
      'Frontend': {
        name: 'Frontend',
        category: 'DEVELOPMENT',
        skills: ['react', 'vue', 'angular', 'componente', 'ui', 'interface', 'estilo'],
        models: ['gemini-2.0-flash']
      },
      'Backend': {
        name: 'Backend',
        category: 'DEVELOPMENT',
        skills: ['api', 'banco de dados', 'servidor', 'node', 'python', 'java'],
        models: ['gemini-2.5-pro']
      },
      'Mobile': {
        name: 'Mobile',
        category: 'DEVELOPMENT',
        skills: ['react native', 'flutter', 'ios', 'android', 'app'],
        models: ['gemini-2.0-flash']
      },
      'DevOps': {
        name: 'DevOps',
        category: 'INFRASTRUCTURE',
        skills: ['deploy', 'ci/cd', 'docker', 'kubernetes', 'vercel', 'github'],
        models: ['gemini-2.5-pro']
      },
      // Design
      'Designer': {
        name: 'Designer',
        category: 'DESIGN',
        skills: ['design', 'ui', 'ux', 'visual', 'layout', 'cores', 'tipografia'],
        models: ['gemini-2.0-flash']
      },
      'UX': {
        name: 'UX',
        category: 'DESIGN',
        skills: ['experiÃªncia', 'usuÃ¡rio', 'usabilidade', 'acessibilidade', 'fluxo'],
        models: ['gemini-2.0-flash']
      },
      // Dados
      'Pesquisador': {
        name: 'Pesquisador',
        category: 'RESEARCH',
        skills: ['pesquisa', 'anÃ¡lise', 'dados', 'estatÃ­stica', 'investigaÃ§Ã£o'],
        models: ['gemini-2.5-pro']
      },
      'DataAnalyst': {
        name: 'DataAnalyst',
        category: 'DATA',
        skills: ['dados', 'anÃ¡lise', 'grÃ¡fico', 'visualizaÃ§Ã£o', 'sql', 'python'],
        models: ['gemini-2.5-pro']
      },
      // ConteÃºdo
      'Escritor': {
        name: 'Escritor',
        category: 'CONTENT',
        skills: ['conteÃºdo', 'documentaÃ§Ã£o', 'escrita', 'artigo', 'blog', 'readme'],
        models: ['gemini-2.0-flash']
      },
      'Copywriter': {
        name: 'Copywriter',
        category: 'CONTENT',
        skills: ['copy', 'marketing', 'venda', 'persuasÃ£o', 'anÃºncio'],
        models: ['gemini-2.0-flash']
      },
      // Qualidade
      'QA': {
        name: 'QA',
        category: 'QUALITY',
        skills: ['teste', 'qualidade', 'bug', 'validaÃ§Ã£o', 'verificaÃ§Ã£o'],
        models: ['gemini-2.0-flash']
      },
      'SecurityExpert': {
        name: 'SecurityExpert',
        category: 'SECURITY',
        skills: ['seguranÃ§a', 'vulnerabilidade', 'criptografia', 'autenticaÃ§Ã£o'],
        models: ['gemini-2.5-pro']
      },
      // Serginho (orquestrador)
      'Serginho': {
        name: 'Serginho',
        category: 'ORCHESTRATION',
        skills: ['orquestraÃ§Ã£o', 'coordenaÃ§Ã£o', 'delegaÃ§Ã£o', 'geral'],
        models: ['gemini-2.0-flash']
      }
    };

    // Mapeamento de tipos de tarefa para especialistas
    this.taskTypeMapping = {
      'COMPONENT': ['Frontend', 'Designer', 'UX'],
      'FUNCTION': ['Dev', 'Backend'],
      'TEST': ['QA', 'Dev'],
      'STYLE': ['Designer', 'Frontend', 'UX'],
      'DOCUMENTATION': ['Escritor', 'Dev'],
      'REFACTOR': ['Dev', 'Backend', 'Frontend'],
      'ANALYSIS': ['Pesquisador', 'DataAnalyst'],
      'SECURITY': ['SecurityExpert', 'Backend', 'DevOps'],
      'DEPLOYMENT': ['DevOps', 'Backend'],
      'GENERAL': ['Serginho', 'Dev']
    };
  }

  /**
   * Selecionar especialista baseado em tipo de tarefa
   */
  async selectSpecialist(taskType, keywords = []) {
    console.log(`ðŸŽ¯ Selecionando especialista para: ${taskType}`);

    // Obter especialistas recomendados para o tipo de tarefa
    let candidates = this.taskTypeMapping[taskType] || this.taskTypeMapping['GENERAL'];

    // Se houver keywords, refinar a seleÃ§Ã£o
    if (keywords && keywords.length > 0) {
      candidates = this.refineByKeywords(candidates, keywords);
    }

    // Selecionar o primeiro (mais recomendado)
    const selected = candidates[0] || 'Serginho';
    console.log(`âœ… Especialista selecionado: ${selected}`);
    return selected;
  }

  /**
   * Refinar candidatos por keywords
   */
  refineByKeywords(candidates, keywords) {
    const scored = candidates.map(name => {
      const specialist = this.specialists[name];
      const matches = keywords.filter(kw => specialist.skills.some(skill => skill.includes(kw.toLowerCase()) || kw.toLowerCase().includes(skill))).length;
      return {
        name,
        score: matches
      };
    });

    // Ordenar por score (descendente)
    scored.sort((a, b) => b.score - a.score);
    return scored.map(s => s.name);
  }

  /**
   * Obter informaÃ§Ãµes de um especialista
   */
  getSpecialistInfo(name) {
    return this.specialists[name] || null;
  }

  /**
   * Listar todos os especialistas
   */
  listAllSpecialists() {
    return Object.values(this.specialists);
  }

  /**
   * Listar especialistas por categoria
   */
  listByCategory(category) {
    return Object.values(this.specialists).filter(s => s.category === category);
  }

  /**
   * Obter modelo de IA recomendado para especialista
   */
  getRecommendedModel(specialistName) {
    const specialist = this.specialists[specialistName];
    if (!specialist) return 'gemini-2.0-flash';

    // Retornar o primeiro modelo recomendado
    return specialist.models[0] || 'gemini-2.0-flash';
  }

  /**
   * Buscar especialista por skill
   */
  findBySkill(skill) {
    const results = [];
    for (const [name, specialist] of Object.entries(this.specialists)) {
      if (specialist.skills.some(s => s.includes(skill.toLowerCase()))) {
        results.push(name);
      }
    }
    return results;
  }

  /**
   * Sugerir especialistas para uma tarefa complexa
   */
  suggestTeam(taskType, keywords = []) {
    let candidates = this.taskTypeMapping[taskType] || this.taskTypeMapping['GENERAL'];
    if (keywords && keywords.length > 0) {
      candidates = this.refineByKeywords(candidates, keywords);
    }

    // Retornar top 3 especialistas
    return candidates.slice(0, 3);
  }

  /**
   * Validar se especialista existe
   */
  exists(name) {
    return name in this.specialists;
  }

  /**
   * Adicionar novo especialista (para extensibilidade)
   */
  addSpecialist(name, config) {
    this.specialists[name] = {
      name,
      category: config.category || 'CUSTOM',
      skills: config.skills || [],
      models: config.models || ['gemini-2.0-flash']
    };
    return true;
  }

  /**
   * Remover especialista
   */
  removeSpecialist(name) {
    if (name === 'Serginho') {
      throw new Error('NÃ£o Ã© possÃ­vel remover Serginho (orquestrador)');
    }
    delete this.specialists[name];
    return true;
  }

  /**
   * Obter estatÃ­sticas
   */
  getStatistics() {
    const categories = {};
    const totalSkills = new Set();
    for (const specialist of Object.values(this.specialists)) {
      categories[specialist.category] = (categories[specialist.category] || 0) + 1;
      specialist.skills.forEach(skill => totalSkills.add(skill));
    }
    return {
      totalSpecialists: Object.keys(this.specialists).length,
      categories,
      totalSkills: totalSkills.size,
      uniqueSkills: Array.from(totalSkills)
    };
  }
}

// Exportar
if (typeof module !== 'undefined' && module.exports) {
  module.exports = SpecialistSelector;
}
var _default = exports.default = SpecialistSelector;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTcGVjaWFsaXN0U2VsZWN0b3IiLCJjb25zdHJ1Y3RvciIsInNwZWNpYWxpc3RzIiwibmFtZSIsImNhdGVnb3J5Iiwic2tpbGxzIiwibW9kZWxzIiwidGFza1R5cGVNYXBwaW5nIiwic2VsZWN0U3BlY2lhbGlzdCIsInRhc2tUeXBlIiwia2V5d29yZHMiLCJjb25zb2xlIiwibG9nIiwiY2FuZGlkYXRlcyIsImxlbmd0aCIsInJlZmluZUJ5S2V5d29yZHMiLCJzZWxlY3RlZCIsInNjb3JlZCIsIm1hcCIsInNwZWNpYWxpc3QiLCJtYXRjaGVzIiwiZmlsdGVyIiwia3ciLCJzb21lIiwic2tpbGwiLCJpbmNsdWRlcyIsInRvTG93ZXJDYXNlIiwic2NvcmUiLCJzb3J0IiwiYSIsImIiLCJzIiwiZ2V0U3BlY2lhbGlzdEluZm8iLCJsaXN0QWxsU3BlY2lhbGlzdHMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJsaXN0QnlDYXRlZ29yeSIsImdldFJlY29tbWVuZGVkTW9kZWwiLCJzcGVjaWFsaXN0TmFtZSIsImZpbmRCeVNraWxsIiwicmVzdWx0cyIsImVudHJpZXMiLCJwdXNoIiwic3VnZ2VzdFRlYW0iLCJzbGljZSIsImV4aXN0cyIsImFkZFNwZWNpYWxpc3QiLCJjb25maWciLCJyZW1vdmVTcGVjaWFsaXN0IiwiRXJyb3IiLCJnZXRTdGF0aXN0aWNzIiwiY2F0ZWdvcmllcyIsInRvdGFsU2tpbGxzIiwiU2V0IiwiZm9yRWFjaCIsImFkZCIsInRvdGFsU3BlY2lhbGlzdHMiLCJrZXlzIiwic2l6ZSIsInVuaXF1ZVNraWxscyIsIkFycmF5IiwiZnJvbSIsIm1vZHVsZSIsImV4cG9ydHMiLCJfZGVmYXVsdCIsImRlZmF1bHQiXSwic291cmNlcyI6WyJTcGVjaWFsaXN0U2VsZWN0b3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTUEVDSUFMSVNUIFNFTEVDVE9SXG4gKiBTZWxlw6fDo28gaW50ZWxpZ2VudGUgZGUgZXNwZWNpYWxpc3RhIGJhc2VhZGEgbm8gdGlwbyBkZSB0YXJlZmFcbiAqIE1hcGVpYSB0YXJlZmFzIHBhcmEgb3MgNTQrIGVzcGVjaWFsaXN0YXMgZG8gUktNTUFYXG4gKi9cblxuY2xhc3MgU3BlY2lhbGlzdFNlbGVjdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gTWFwZWFtZW50byBkZSBlc3BlY2lhbGlzdGFzIHBvciBjYXRlZ29yaWFcbiAgICB0aGlzLnNwZWNpYWxpc3RzID0ge1xuICAgICAgLy8gRGVzZW52b2x2aW1lbnRvXG4gICAgICAnRGV2Jzoge1xuICAgICAgICBuYW1lOiAnRGV2JyxcbiAgICAgICAgY2F0ZWdvcnk6ICdERVZFTE9QTUVOVCcsXG4gICAgICAgIHNraWxsczogWydjw7NkaWdvJywgJ3Byb2dyYW1hw6fDo28nLCAnZnVuw6fDo28nLCAncmVmYXRvcmFyJywgJ2J1ZycsICdmZWF0dXJlJ10sXG4gICAgICAgIG1vZGVsczogWydnZW1pbmktMi41LXBybycsICdnZW1pbmktMi4wLWZsYXNoJ10sXG4gICAgICB9LFxuICAgICAgJ0Zyb250ZW5kJzoge1xuICAgICAgICBuYW1lOiAnRnJvbnRlbmQnLFxuICAgICAgICBjYXRlZ29yeTogJ0RFVkVMT1BNRU5UJyxcbiAgICAgICAgc2tpbGxzOiBbJ3JlYWN0JywgJ3Z1ZScsICdhbmd1bGFyJywgJ2NvbXBvbmVudGUnLCAndWknLCAnaW50ZXJmYWNlJywgJ2VzdGlsbyddLFxuICAgICAgICBtb2RlbHM6IFsnZ2VtaW5pLTIuMC1mbGFzaCddLFxuICAgICAgfSxcbiAgICAgICdCYWNrZW5kJzoge1xuICAgICAgICBuYW1lOiAnQmFja2VuZCcsXG4gICAgICAgIGNhdGVnb3J5OiAnREVWRUxPUE1FTlQnLFxuICAgICAgICBza2lsbHM6IFsnYXBpJywgJ2JhbmNvIGRlIGRhZG9zJywgJ3NlcnZpZG9yJywgJ25vZGUnLCAncHl0aG9uJywgJ2phdmEnXSxcbiAgICAgICAgbW9kZWxzOiBbJ2dlbWluaS0yLjUtcHJvJ10sXG4gICAgICB9LFxuICAgICAgJ01vYmlsZSc6IHtcbiAgICAgICAgbmFtZTogJ01vYmlsZScsXG4gICAgICAgIGNhdGVnb3J5OiAnREVWRUxPUE1FTlQnLFxuICAgICAgICBza2lsbHM6IFsncmVhY3QgbmF0aXZlJywgJ2ZsdXR0ZXInLCAnaW9zJywgJ2FuZHJvaWQnLCAnYXBwJ10sXG4gICAgICAgIG1vZGVsczogWydnZW1pbmktMi4wLWZsYXNoJ10sXG4gICAgICB9LFxuICAgICAgJ0Rldk9wcyc6IHtcbiAgICAgICAgbmFtZTogJ0Rldk9wcycsXG4gICAgICAgIGNhdGVnb3J5OiAnSU5GUkFTVFJVQ1RVUkUnLFxuICAgICAgICBza2lsbHM6IFsnZGVwbG95JywgJ2NpL2NkJywgJ2RvY2tlcicsICdrdWJlcm5ldGVzJywgJ3ZlcmNlbCcsICdnaXRodWInXSxcbiAgICAgICAgbW9kZWxzOiBbJ2dlbWluaS0yLjUtcHJvJ10sXG4gICAgICB9LFxuXG4gICAgICAvLyBEZXNpZ25cbiAgICAgICdEZXNpZ25lcic6IHtcbiAgICAgICAgbmFtZTogJ0Rlc2lnbmVyJyxcbiAgICAgICAgY2F0ZWdvcnk6ICdERVNJR04nLFxuICAgICAgICBza2lsbHM6IFsnZGVzaWduJywgJ3VpJywgJ3V4JywgJ3Zpc3VhbCcsICdsYXlvdXQnLCAnY29yZXMnLCAndGlwb2dyYWZpYSddLFxuICAgICAgICBtb2RlbHM6IFsnZ2VtaW5pLTIuMC1mbGFzaCddLFxuICAgICAgfSxcbiAgICAgICdVWCc6IHtcbiAgICAgICAgbmFtZTogJ1VYJyxcbiAgICAgICAgY2F0ZWdvcnk6ICdERVNJR04nLFxuICAgICAgICBza2lsbHM6IFsnZXhwZXJpw6puY2lhJywgJ3VzdcOhcmlvJywgJ3VzYWJpbGlkYWRlJywgJ2FjZXNzaWJpbGlkYWRlJywgJ2ZsdXhvJ10sXG4gICAgICAgIG1vZGVsczogWydnZW1pbmktMi4wLWZsYXNoJ10sXG4gICAgICB9LFxuXG4gICAgICAvLyBEYWRvc1xuICAgICAgJ1Blc3F1aXNhZG9yJzoge1xuICAgICAgICBuYW1lOiAnUGVzcXVpc2Fkb3InLFxuICAgICAgICBjYXRlZ29yeTogJ1JFU0VBUkNIJyxcbiAgICAgICAgc2tpbGxzOiBbJ3Blc3F1aXNhJywgJ2Fuw6FsaXNlJywgJ2RhZG9zJywgJ2VzdGF0w61zdGljYScsICdpbnZlc3RpZ2HDp8OjbyddLFxuICAgICAgICBtb2RlbHM6IFsnZ2VtaW5pLTIuNS1wcm8nXSxcbiAgICAgIH0sXG4gICAgICAnRGF0YUFuYWx5c3QnOiB7XG4gICAgICAgIG5hbWU6ICdEYXRhQW5hbHlzdCcsXG4gICAgICAgIGNhdGVnb3J5OiAnREFUQScsXG4gICAgICAgIHNraWxsczogWydkYWRvcycsICdhbsOhbGlzZScsICdncsOhZmljbycsICd2aXN1YWxpemHDp8OjbycsICdzcWwnLCAncHl0aG9uJ10sXG4gICAgICAgIG1vZGVsczogWydnZW1pbmktMi41LXBybyddLFxuICAgICAgfSxcblxuICAgICAgLy8gQ29udGXDumRvXG4gICAgICAnRXNjcml0b3InOiB7XG4gICAgICAgIG5hbWU6ICdFc2NyaXRvcicsXG4gICAgICAgIGNhdGVnb3J5OiAnQ09OVEVOVCcsXG4gICAgICAgIHNraWxsczogWydjb250ZcO6ZG8nLCAnZG9jdW1lbnRhw6fDo28nLCAnZXNjcml0YScsICdhcnRpZ28nLCAnYmxvZycsICdyZWFkbWUnXSxcbiAgICAgICAgbW9kZWxzOiBbJ2dlbWluaS0yLjAtZmxhc2gnXSxcbiAgICAgIH0sXG4gICAgICAnQ29weXdyaXRlcic6IHtcbiAgICAgICAgbmFtZTogJ0NvcHl3cml0ZXInLFxuICAgICAgICBjYXRlZ29yeTogJ0NPTlRFTlQnLFxuICAgICAgICBza2lsbHM6IFsnY29weScsICdtYXJrZXRpbmcnLCAndmVuZGEnLCAncGVyc3Vhc8OjbycsICdhbsO6bmNpbyddLFxuICAgICAgICBtb2RlbHM6IFsnZ2VtaW5pLTIuMC1mbGFzaCddLFxuICAgICAgfSxcblxuICAgICAgLy8gUXVhbGlkYWRlXG4gICAgICAnUUEnOiB7XG4gICAgICAgIG5hbWU6ICdRQScsXG4gICAgICAgIGNhdGVnb3J5OiAnUVVBTElUWScsXG4gICAgICAgIHNraWxsczogWyd0ZXN0ZScsICdxdWFsaWRhZGUnLCAnYnVnJywgJ3ZhbGlkYcOnw6NvJywgJ3ZlcmlmaWNhw6fDo28nXSxcbiAgICAgICAgbW9kZWxzOiBbJ2dlbWluaS0yLjAtZmxhc2gnXSxcbiAgICAgIH0sXG4gICAgICAnU2VjdXJpdHlFeHBlcnQnOiB7XG4gICAgICAgIG5hbWU6ICdTZWN1cml0eUV4cGVydCcsXG4gICAgICAgIGNhdGVnb3J5OiAnU0VDVVJJVFknLFxuICAgICAgICBza2lsbHM6IFsnc2VndXJhbsOnYScsICd2dWxuZXJhYmlsaWRhZGUnLCAnY3JpcHRvZ3JhZmlhJywgJ2F1dGVudGljYcOnw6NvJ10sXG4gICAgICAgIG1vZGVsczogWydnZW1pbmktMi41LXBybyddLFxuICAgICAgfSxcblxuICAgICAgLy8gU2VyZ2luaG8gKG9ycXVlc3RyYWRvcilcbiAgICAgICdTZXJnaW5obyc6IHtcbiAgICAgICAgbmFtZTogJ1NlcmdpbmhvJyxcbiAgICAgICAgY2F0ZWdvcnk6ICdPUkNIRVNUUkFUSU9OJyxcbiAgICAgICAgc2tpbGxzOiBbJ29ycXVlc3RyYcOnw6NvJywgJ2Nvb3JkZW5hw6fDo28nLCAnZGVsZWdhw6fDo28nLCAnZ2VyYWwnXSxcbiAgICAgICAgbW9kZWxzOiBbJ2dlbWluaS0yLjAtZmxhc2gnXSxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIC8vIE1hcGVhbWVudG8gZGUgdGlwb3MgZGUgdGFyZWZhIHBhcmEgZXNwZWNpYWxpc3Rhc1xuICAgIHRoaXMudGFza1R5cGVNYXBwaW5nID0ge1xuICAgICAgJ0NPTVBPTkVOVCc6IFsnRnJvbnRlbmQnLCAnRGVzaWduZXInLCAnVVgnXSxcbiAgICAgICdGVU5DVElPTic6IFsnRGV2JywgJ0JhY2tlbmQnXSxcbiAgICAgICdURVNUJzogWydRQScsICdEZXYnXSxcbiAgICAgICdTVFlMRSc6IFsnRGVzaWduZXInLCAnRnJvbnRlbmQnLCAnVVgnXSxcbiAgICAgICdET0NVTUVOVEFUSU9OJzogWydFc2NyaXRvcicsICdEZXYnXSxcbiAgICAgICdSRUZBQ1RPUic6IFsnRGV2JywgJ0JhY2tlbmQnLCAnRnJvbnRlbmQnXSxcbiAgICAgICdBTkFMWVNJUyc6IFsnUGVzcXVpc2Fkb3InLCAnRGF0YUFuYWx5c3QnXSxcbiAgICAgICdTRUNVUklUWSc6IFsnU2VjdXJpdHlFeHBlcnQnLCAnQmFja2VuZCcsICdEZXZPcHMnXSxcbiAgICAgICdERVBMT1lNRU5UJzogWydEZXZPcHMnLCAnQmFja2VuZCddLFxuICAgICAgJ0dFTkVSQUwnOiBbJ1NlcmdpbmhvJywgJ0RldiddLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogU2VsZWNpb25hciBlc3BlY2lhbGlzdGEgYmFzZWFkbyBlbSB0aXBvIGRlIHRhcmVmYVxuICAgKi9cbiAgYXN5bmMgc2VsZWN0U3BlY2lhbGlzdCh0YXNrVHlwZSwga2V5d29yZHMgPSBbXSkge1xuICAgIGNvbnNvbGUubG9nKGDwn46vIFNlbGVjaW9uYW5kbyBlc3BlY2lhbGlzdGEgcGFyYTogJHt0YXNrVHlwZX1gKTtcblxuICAgIC8vIE9idGVyIGVzcGVjaWFsaXN0YXMgcmVjb21lbmRhZG9zIHBhcmEgbyB0aXBvIGRlIHRhcmVmYVxuICAgIGxldCBjYW5kaWRhdGVzID0gdGhpcy50YXNrVHlwZU1hcHBpbmdbdGFza1R5cGVdIHx8IHRoaXMudGFza1R5cGVNYXBwaW5nWydHRU5FUkFMJ107XG5cbiAgICAvLyBTZSBob3V2ZXIga2V5d29yZHMsIHJlZmluYXIgYSBzZWxlw6fDo29cbiAgICBpZiAoa2V5d29yZHMgJiYga2V5d29yZHMubGVuZ3RoID4gMCkge1xuICAgICAgY2FuZGlkYXRlcyA9IHRoaXMucmVmaW5lQnlLZXl3b3JkcyhjYW5kaWRhdGVzLCBrZXl3b3Jkcyk7XG4gICAgfVxuXG4gICAgLy8gU2VsZWNpb25hciBvIHByaW1laXJvIChtYWlzIHJlY29tZW5kYWRvKVxuICAgIGNvbnN0IHNlbGVjdGVkID0gY2FuZGlkYXRlc1swXSB8fCAnU2VyZ2luaG8nO1xuXG4gICAgY29uc29sZS5sb2coYOKchSBFc3BlY2lhbGlzdGEgc2VsZWNpb25hZG86ICR7c2VsZWN0ZWR9YCk7XG5cbiAgICByZXR1cm4gc2VsZWN0ZWQ7XG4gIH1cblxuICAvKipcbiAgICogUmVmaW5hciBjYW5kaWRhdG9zIHBvciBrZXl3b3Jkc1xuICAgKi9cbiAgcmVmaW5lQnlLZXl3b3JkcyhjYW5kaWRhdGVzLCBrZXl3b3Jkcykge1xuICAgIGNvbnN0IHNjb3JlZCA9IGNhbmRpZGF0ZXMubWFwKG5hbWUgPT4ge1xuICAgICAgY29uc3Qgc3BlY2lhbGlzdCA9IHRoaXMuc3BlY2lhbGlzdHNbbmFtZV07XG4gICAgICBjb25zdCBtYXRjaGVzID0ga2V5d29yZHMuZmlsdGVyKGt3ID0+IFxuICAgICAgICBzcGVjaWFsaXN0LnNraWxscy5zb21lKHNraWxsID0+IFxuICAgICAgICAgIHNraWxsLmluY2x1ZGVzKGt3LnRvTG93ZXJDYXNlKCkpIHx8IGt3LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2tpbGwpXG4gICAgICAgIClcbiAgICAgICkubGVuZ3RoO1xuXG4gICAgICByZXR1cm4geyBuYW1lLCBzY29yZTogbWF0Y2hlcyB9O1xuICAgIH0pO1xuXG4gICAgLy8gT3JkZW5hciBwb3Igc2NvcmUgKGRlc2NlbmRlbnRlKVxuICAgIHNjb3JlZC5zb3J0KChhLCBiKSA9PiBiLnNjb3JlIC0gYS5zY29yZSk7XG5cbiAgICByZXR1cm4gc2NvcmVkLm1hcChzID0+IHMubmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogT2J0ZXIgaW5mb3JtYcOnw7VlcyBkZSB1bSBlc3BlY2lhbGlzdGFcbiAgICovXG4gIGdldFNwZWNpYWxpc3RJbmZvKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5zcGVjaWFsaXN0c1tuYW1lXSB8fCBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIExpc3RhciB0b2RvcyBvcyBlc3BlY2lhbGlzdGFzXG4gICAqL1xuICBsaXN0QWxsU3BlY2lhbGlzdHMoKSB7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXModGhpcy5zcGVjaWFsaXN0cyk7XG4gIH1cblxuICAvKipcbiAgICogTGlzdGFyIGVzcGVjaWFsaXN0YXMgcG9yIGNhdGVnb3JpYVxuICAgKi9cbiAgbGlzdEJ5Q2F0ZWdvcnkoY2F0ZWdvcnkpIHtcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLnNwZWNpYWxpc3RzKS5maWx0ZXIocyA9PiBzLmNhdGVnb3J5ID09PSBjYXRlZ29yeSk7XG4gIH1cblxuICAvKipcbiAgICogT2J0ZXIgbW9kZWxvIGRlIElBIHJlY29tZW5kYWRvIHBhcmEgZXNwZWNpYWxpc3RhXG4gICAqL1xuICBnZXRSZWNvbW1lbmRlZE1vZGVsKHNwZWNpYWxpc3ROYW1lKSB7XG4gICAgY29uc3Qgc3BlY2lhbGlzdCA9IHRoaXMuc3BlY2lhbGlzdHNbc3BlY2lhbGlzdE5hbWVdO1xuICAgIGlmICghc3BlY2lhbGlzdCkgcmV0dXJuICdnZW1pbmktMi4wLWZsYXNoJztcblxuICAgIC8vIFJldG9ybmFyIG8gcHJpbWVpcm8gbW9kZWxvIHJlY29tZW5kYWRvXG4gICAgcmV0dXJuIHNwZWNpYWxpc3QubW9kZWxzWzBdIHx8ICdnZW1pbmktMi4wLWZsYXNoJztcbiAgfVxuXG4gIC8qKlxuICAgKiBCdXNjYXIgZXNwZWNpYWxpc3RhIHBvciBza2lsbFxuICAgKi9cbiAgZmluZEJ5U2tpbGwoc2tpbGwpIHtcbiAgICBjb25zdCByZXN1bHRzID0gW107XG5cbiAgICBmb3IgKGNvbnN0IFtuYW1lLCBzcGVjaWFsaXN0XSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnNwZWNpYWxpc3RzKSkge1xuICAgICAgaWYgKHNwZWNpYWxpc3Quc2tpbGxzLnNvbWUocyA9PiBzLmluY2x1ZGVzKHNraWxsLnRvTG93ZXJDYXNlKCkpKSkge1xuICAgICAgICByZXN1bHRzLnB1c2gobmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cblxuICAvKipcbiAgICogU3VnZXJpciBlc3BlY2lhbGlzdGFzIHBhcmEgdW1hIHRhcmVmYSBjb21wbGV4YVxuICAgKi9cbiAgc3VnZ2VzdFRlYW0odGFza1R5cGUsIGtleXdvcmRzID0gW10pIHtcbiAgICBsZXQgY2FuZGlkYXRlcyA9IHRoaXMudGFza1R5cGVNYXBwaW5nW3Rhc2tUeXBlXSB8fCB0aGlzLnRhc2tUeXBlTWFwcGluZ1snR0VORVJBTCddO1xuXG4gICAgaWYgKGtleXdvcmRzICYmIGtleXdvcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNhbmRpZGF0ZXMgPSB0aGlzLnJlZmluZUJ5S2V5d29yZHMoY2FuZGlkYXRlcywga2V5d29yZHMpO1xuICAgIH1cblxuICAgIC8vIFJldG9ybmFyIHRvcCAzIGVzcGVjaWFsaXN0YXNcbiAgICByZXR1cm4gY2FuZGlkYXRlcy5zbGljZSgwLCAzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGFyIHNlIGVzcGVjaWFsaXN0YSBleGlzdGVcbiAgICovXG4gIGV4aXN0cyhuYW1lKSB7XG4gICAgcmV0dXJuIG5hbWUgaW4gdGhpcy5zcGVjaWFsaXN0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGljaW9uYXIgbm92byBlc3BlY2lhbGlzdGEgKHBhcmEgZXh0ZW5zaWJpbGlkYWRlKVxuICAgKi9cbiAgYWRkU3BlY2lhbGlzdChuYW1lLCBjb25maWcpIHtcbiAgICB0aGlzLnNwZWNpYWxpc3RzW25hbWVdID0ge1xuICAgICAgbmFtZSxcbiAgICAgIGNhdGVnb3J5OiBjb25maWcuY2F0ZWdvcnkgfHwgJ0NVU1RPTScsXG4gICAgICBza2lsbHM6IGNvbmZpZy5za2lsbHMgfHwgW10sXG4gICAgICBtb2RlbHM6IGNvbmZpZy5tb2RlbHMgfHwgWydnZW1pbmktMi4wLWZsYXNoJ10sXG4gICAgfTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXIgZXNwZWNpYWxpc3RhXG4gICAqL1xuICByZW1vdmVTcGVjaWFsaXN0KG5hbWUpIHtcbiAgICBpZiAobmFtZSA9PT0gJ1NlcmdpbmhvJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOw6NvIMOpIHBvc3PDrXZlbCByZW1vdmVyIFNlcmdpbmhvIChvcnF1ZXN0cmFkb3IpJyk7XG4gICAgfVxuXG4gICAgZGVsZXRlIHRoaXMuc3BlY2lhbGlzdHNbbmFtZV07XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogT2J0ZXIgZXN0YXTDrXN0aWNhc1xuICAgKi9cbiAgZ2V0U3RhdGlzdGljcygpIHtcbiAgICBjb25zdCBjYXRlZ29yaWVzID0ge307XG4gICAgY29uc3QgdG90YWxTa2lsbHMgPSBuZXcgU2V0KCk7XG5cbiAgICBmb3IgKGNvbnN0IHNwZWNpYWxpc3Qgb2YgT2JqZWN0LnZhbHVlcyh0aGlzLnNwZWNpYWxpc3RzKSkge1xuICAgICAgY2F0ZWdvcmllc1tzcGVjaWFsaXN0LmNhdGVnb3J5XSA9IChjYXRlZ29yaWVzW3NwZWNpYWxpc3QuY2F0ZWdvcnldIHx8IDApICsgMTtcbiAgICAgIHNwZWNpYWxpc3Quc2tpbGxzLmZvckVhY2goc2tpbGwgPT4gdG90YWxTa2lsbHMuYWRkKHNraWxsKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvdGFsU3BlY2lhbGlzdHM6IE9iamVjdC5rZXlzKHRoaXMuc3BlY2lhbGlzdHMpLmxlbmd0aCxcbiAgICAgIGNhdGVnb3JpZXMsXG4gICAgICB0b3RhbFNraWxsczogdG90YWxTa2lsbHMuc2l6ZSxcbiAgICAgIHVuaXF1ZVNraWxsczogQXJyYXkuZnJvbSh0b3RhbFNraWxscyksXG4gICAgfTtcbiAgfVxufVxuXG4vLyBFeHBvcnRhclxuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gU3BlY2lhbGlzdFNlbGVjdG9yO1xufVxuXG5leHBvcnQgZGVmYXVsdCBTcGVjaWFsaXN0U2VsZWN0b3I7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTUEsa0JBQWtC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