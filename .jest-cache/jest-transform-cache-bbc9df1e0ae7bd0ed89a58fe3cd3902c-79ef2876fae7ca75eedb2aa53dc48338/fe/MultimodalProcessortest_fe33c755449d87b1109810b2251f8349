327c23f20c0aae07fe0097915bb58b89
"use strict";

/**
 * MULTIMODAL PROCESSOR TESTS
 * Testes unitários para processamento multimodal
 */

const MultimodalProcessor = require('../MultimodalProcessor');
describe('MultimodalProcessor', () => {
  let processor;
  beforeEach(() => {
    processor = new MultimodalProcessor();
  });
  describe('Audio Processing', () => {
    describe('validateAudioFile', () => {
      test('deve aceitar formato MP3', () => {
        const validation = processor.validateAudioFile('audio.mp3', 1000000);
        expect(validation.valid).toBe(true);
      });
      test('deve aceitar formato WAV', () => {
        const validation = processor.validateAudioFile('audio.wav', 1000000);
        expect(validation.valid).toBe(true);
      });
      test('deve rejeitar formato inválido', () => {
        const validation = processor.validateAudioFile('audio.exe', 1000000);
        expect(validation.valid).toBe(false);
        expect(validation.error).toContain('não suportado');
      });
      test('deve rejeitar arquivo muito grande', () => {
        const validation = processor.validateAudioFile('audio.mp3', 30 * 1024 * 1024);
        expect(validation.valid).toBe(false);
        expect(validation.error).toContain('muito grande');
      });
    });
    describe('processAudio', () => {
      test('deve processar áudio válido', async () => {
        const audioBuffer = Buffer.from('fake audio data');

        // Mock da API de transcrição
        processor.transcribeAudio = async () => 'cria um componente de login';
        const result = await processor.processAudio(audioBuffer, 'mp3');
        expect(result.type).toBe('audio');
        expect(result.format).toBe('mp3');
        expect(result.transcript).toBeDefined();
        expect(result.confidence).toBeGreaterThan(0);
      });
      test('deve rejeitar formato não suportado', async () => {
        const audioBuffer = Buffer.from('fake audio data');
        await expect(processor.processAudio(audioBuffer, 'exe')).rejects.toThrow();
      });
      test('deve rejeitar arquivo muito grande', async () => {
        const largeBuffer = Buffer.alloc(30 * 1024 * 1024);
        await expect(processor.processAudio(largeBuffer, 'mp3')).rejects.toThrow();
      });
    });
    describe('estimateAudioDuration', () => {
      test('deve estimar duração do áudio', async () => {
        const audioBuffer = Buffer.alloc(128000); // ~1 segundo a 128kbps

        const duration = await processor.estimateAudioDuration(audioBuffer, 'mp3');
        expect(duration).toBeGreaterThan(0);
      });
    });
  });
  describe('Image Processing', () => {
    describe('validateImageFile', () => {
      test('deve aceitar formato PNG', () => {
        const validation = processor.validateImageFile('image.png', 1000000);
        expect(validation.valid).toBe(true);
      });
      test('deve aceitar formato JPG', () => {
        const validation = processor.validateImageFile('image.jpg', 1000000);
        expect(validation.valid).toBe(true);
      });
      test('deve rejeitar formato inválido', () => {
        const validation = processor.validateImageFile('image.exe', 1000000);
        expect(validation.valid).toBe(false);
      });
      test('deve rejeitar arquivo muito grande', () => {
        const validation = processor.validateImageFile('image.png', 25 * 1024 * 1024);
        expect(validation.valid).toBe(false);
      });
    });
    describe('processImage', () => {
      test('deve processar imagem válida', async () => {
        const imageBuffer = Buffer.from('fake image data');

        // Mock da API de análise
        processor.analyzeImage = async () => ({
          description: 'Uma imagem de código',
          labels: ['código', 'terminal'],
          confidence: 0.95
        });
        const result = await processor.processImage(imageBuffer, 'png');
        expect(result.type).toBe('image');
        expect(result.format).toBe('png');
        expect(result.analysis).toBeDefined();
      });
      test('deve rejeitar formato não suportado', async () => {
        const imageBuffer = Buffer.from('fake image data');
        await expect(processor.processImage(imageBuffer, 'exe')).rejects.toThrow();
      });
    });
    describe('extractTextFromImage', () => {
      test('deve extrair texto da imagem', async () => {
        const imageBuffer = Buffer.from('fake image data');

        // Mock da análise
        processor.analyzeImage = async () => ({
          textDetection: [{
            text: 'function test()',
            confidence: 0.95
          }, {
            text: 'return true;',
            confidence: 0.93
          }],
          description: 'Código JavaScript'
        });
        const result = await processor.extractTextFromImage(imageBuffer, 'png');
        expect(result.success).toBe(true);
        expect(result.text).toContain('function test()');
        expect(result.confidence).toBeGreaterThan(0);
      });
      test('deve retornar sucesso false quando nenhum texto é encontrado', async () => {
        const imageBuffer = Buffer.from('fake image data');
        processor.analyzeImage = async () => ({
          textDetection: [],
          description: 'Imagem sem texto'
        });
        const result = await processor.extractTextFromImage(imageBuffer, 'png');
        expect(result.success).toBe(false);
        expect(result.text).toBe('');
      });
    });
    describe('describeImage', () => {
      test('deve descrever imagem', async () => {
        const imageBuffer = Buffer.from('fake image data');
        processor.analyzeImage = async () => ({
          description: 'Uma imagem de código JavaScript',
          labels: ['código', 'javascript', 'terminal'],
          objects: ['monitor', 'teclado'],
          confidence: 0.92
        });
        const result = await processor.describeImage(imageBuffer, 'png');
        expect(result.description).toBeDefined();
        expect(result.labels.length).toBeGreaterThan(0);
        expect(result.confidence).toBeGreaterThan(0);
      });
    });
    describe('detectCodeInImage', () => {
      test('deve detectar código em imagem', async () => {
        const imageBuffer = Buffer.from('fake image data');
        processor.extractTextFromImage = async () => ({
          success: true,
          text: 'function login() { return true; }',
          confidence: 0.95
        });
        const result = await processor.detectCodeInImage(imageBuffer, 'png');
        expect(result.success).toBe(true);
        expect(result.code).toContain('function');
        expect(result.language).toBeDefined();
      });
      test('deve identificar linguagem JavaScript', async () => {
        const imageBuffer = Buffer.from('fake image data');
        processor.extractTextFromImage = async () => ({
          success: true,
          text: 'const x = 10; function test() {}',
          confidence: 0.95
        });
        const result = await processor.detectCodeInImage(imageBuffer, 'png');
        expect(result.language).toBe('javascript');
      });
      test('deve identificar linguagem Python', async () => {
        const imageBuffer = Buffer.from('fake image data');
        processor.extractTextFromImage = async () => ({
          success: true,
          text: 'def test(): print("hello")',
          confidence: 0.95
        });
        const result = await processor.detectCodeInImage(imageBuffer, 'png');
        expect(result.language).toBe('python');
      });
      test('deve identificar linguagem SQL', async () => {
        const imageBuffer = Buffer.from('fake image data');
        processor.extractTextFromImage = async () => ({
          success: true,
          text: 'SELECT * FROM users WHERE id = 1',
          confidence: 0.95
        });
        const result = await processor.detectCodeInImage(imageBuffer, 'png');
        expect(result.language).toBe('sql');
      });
    });
    describe('detectProgrammingLanguage', () => {
      test('deve detectar JavaScript', () => {
        const code = 'const x = 10; function test() {}';
        const language = processor.detectProgrammingLanguage(code);
        expect(language).toBe('javascript');
      });
      test('deve detectar Python', () => {
        const code = 'def test(): return True';
        const language = processor.detectProgrammingLanguage(code);
        expect(language).toBe('python');
      });
      test('deve detectar Java', () => {
        const code = 'public class Test { public static void main() {} }';
        const language = processor.detectProgrammingLanguage(code);
        expect(language).toBe('java');
      });
      test('deve detectar SQL', () => {
        const code = 'SELECT * FROM users WHERE id = 1';
        const language = processor.detectProgrammingLanguage(code);
        expect(language).toBe('sql');
      });
      test('deve retornar null para linguagem desconhecida', () => {
        const code = 'some random text without code';
        const language = processor.detectProgrammingLanguage(code);
        expect(language).toBeNull();
      });
    });
  });
  describe('Multimodal Processing', () => {
    test('deve processar áudio e imagem simultaneamente', async () => {
      const inputs = {
        audio: {
          buffer: Buffer.from('fake audio'),
          format: 'mp3'
        },
        image: {
          buffer: Buffer.from('fake image'),
          format: 'png'
        }
      };
      processor.processAudio = async () => ({
        transcript: 'cria um componente',
        confidence: 0.95
      });
      processor.processImage = async () => ({
        analysis: {
          description: 'Imagem de código'
        }
      });
      const result = await processor.processMultimodal(inputs);
      expect(result.audio).toBeDefined();
      expect(result.image).toBeDefined();
      expect(result.combined).toBeDefined();
    });
    test('deve combinar resultados corretamente', async () => {
      const inputs = {
        audio: {
          buffer: Buffer.from('fake audio'),
          format: 'mp3'
        },
        image: {
          buffer: Buffer.from('fake image'),
          format: 'png'
        }
      };
      processor.processAudio = async () => ({
        transcript: 'cria um componente',
        confidence: 0.95
      });
      processor.processImage = async () => ({
        analysis: {
          description: 'Imagem de código'
        }
      });
      const result = await processor.processMultimodal(inputs);
      expect(result.combined.transcript).toBe('cria um componente');
      expect(result.combined.imageAnalysis.description).toBe('Imagem de código');
      expect(result.combined.confidence).toBeDefined();
    });
  });
  describe('Support Information', () => {
    test('deve retornar informações de suporte', () => {
      const info = processor.getSupportInfo();
      expect(info.audio).toBeDefined();
      expect(info.image).toBeDefined();
      expect(info.audio.formats).toContain('mp3');
      expect(info.audio.formats).toContain('wav');
      expect(info.image.formats).toContain('png');
      expect(info.image.formats).toContain('jpg');
    });
    test('deve incluir tamanho máximo de arquivo', () => {
      const info = processor.getSupportInfo();
      expect(info.audio.maxSize).toBe(25 * 1024 * 1024);
      expect(info.image.maxSize).toBe(20 * 1024 * 1024);
    });
    test('deve listar features disponíveis', () => {
      const info = processor.getSupportInfo();
      expect(info.audio.features).toContain('Speech-to-Text');
      expect(info.image.features).toContain('OCR');
      expect(info.image.features).toContain('Code Detection');
    });
  });
  describe('Error Handling', () => {
    test('deve lançar erro para áudio inválido', async () => {
      const audioBuffer = Buffer.from('fake audio');
      processor.transcribeAudio = async () => {
        throw new Error('Erro na transcrição');
      };
      await expect(processor.processAudio(audioBuffer, 'mp3')).rejects.toThrow();
    });
    test('deve lançar erro para imagem inválida', async () => {
      const imageBuffer = Buffer.from('fake image');
      processor.analyzeImage = async () => {
        throw new Error('Erro na análise');
      };
      await expect(processor.processImage(imageBuffer, 'png')).rejects.toThrow();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNdWx0aW1vZGFsUHJvY2Vzc29yIiwicmVxdWlyZSIsImRlc2NyaWJlIiwicHJvY2Vzc29yIiwiYmVmb3JlRWFjaCIsInRlc3QiLCJ2YWxpZGF0aW9uIiwidmFsaWRhdGVBdWRpb0ZpbGUiLCJleHBlY3QiLCJ2YWxpZCIsInRvQmUiLCJlcnJvciIsInRvQ29udGFpbiIsImF1ZGlvQnVmZmVyIiwiQnVmZmVyIiwiZnJvbSIsInRyYW5zY3JpYmVBdWRpbyIsInJlc3VsdCIsInByb2Nlc3NBdWRpbyIsInR5cGUiLCJmb3JtYXQiLCJ0cmFuc2NyaXB0IiwidG9CZURlZmluZWQiLCJjb25maWRlbmNlIiwidG9CZUdyZWF0ZXJUaGFuIiwicmVqZWN0cyIsInRvVGhyb3ciLCJsYXJnZUJ1ZmZlciIsImFsbG9jIiwiZHVyYXRpb24iLCJlc3RpbWF0ZUF1ZGlvRHVyYXRpb24iLCJ2YWxpZGF0ZUltYWdlRmlsZSIsImltYWdlQnVmZmVyIiwiYW5hbHl6ZUltYWdlIiwiZGVzY3JpcHRpb24iLCJsYWJlbHMiLCJwcm9jZXNzSW1hZ2UiLCJhbmFseXNpcyIsInRleHREZXRlY3Rpb24iLCJ0ZXh0IiwiZXh0cmFjdFRleHRGcm9tSW1hZ2UiLCJzdWNjZXNzIiwib2JqZWN0cyIsImRlc2NyaWJlSW1hZ2UiLCJsZW5ndGgiLCJkZXRlY3RDb2RlSW5JbWFnZSIsImNvZGUiLCJsYW5ndWFnZSIsImRldGVjdFByb2dyYW1taW5nTGFuZ3VhZ2UiLCJ0b0JlTnVsbCIsImlucHV0cyIsImF1ZGlvIiwiYnVmZmVyIiwiaW1hZ2UiLCJwcm9jZXNzTXVsdGltb2RhbCIsImNvbWJpbmVkIiwiaW1hZ2VBbmFseXNpcyIsImluZm8iLCJnZXRTdXBwb3J0SW5mbyIsImZvcm1hdHMiLCJtYXhTaXplIiwiZmVhdHVyZXMiLCJFcnJvciJdLCJzb3VyY2VzIjpbIk11bHRpbW9kYWxQcm9jZXNzb3IudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1VTFRJTU9EQUwgUFJPQ0VTU09SIFRFU1RTXG4gKiBUZXN0ZXMgdW5pdMOhcmlvcyBwYXJhIHByb2Nlc3NhbWVudG8gbXVsdGltb2RhbFxuICovXG5cbmNvbnN0IE11bHRpbW9kYWxQcm9jZXNzb3IgPSByZXF1aXJlKCcuLi9NdWx0aW1vZGFsUHJvY2Vzc29yJyk7XG5cbmRlc2NyaWJlKCdNdWx0aW1vZGFsUHJvY2Vzc29yJywgKCkgPT4ge1xuICBsZXQgcHJvY2Vzc29yO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIHByb2Nlc3NvciA9IG5ldyBNdWx0aW1vZGFsUHJvY2Vzc29yKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdBdWRpbyBQcm9jZXNzaW5nJywgKCkgPT4ge1xuICAgIGRlc2NyaWJlKCd2YWxpZGF0ZUF1ZGlvRmlsZScsICgpID0+IHtcbiAgICAgIHRlc3QoJ2RldmUgYWNlaXRhciBmb3JtYXRvIE1QMycsICgpID0+IHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHByb2Nlc3Nvci52YWxpZGF0ZUF1ZGlvRmlsZSgnYXVkaW8ubXAzJywgMTAwMDAwMCk7XG5cbiAgICAgICAgZXhwZWN0KHZhbGlkYXRpb24udmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSBhY2VpdGFyIGZvcm1hdG8gV0FWJywgKCkgPT4ge1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gcHJvY2Vzc29yLnZhbGlkYXRlQXVkaW9GaWxlKCdhdWRpby53YXYnLCAxMDAwMDAwKTtcblxuICAgICAgICBleHBlY3QodmFsaWRhdGlvbi52YWxpZCkudG9CZSh0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIHJlamVpdGFyIGZvcm1hdG8gaW52w6FsaWRvJywgKCkgPT4ge1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gcHJvY2Vzc29yLnZhbGlkYXRlQXVkaW9GaWxlKCdhdWRpby5leGUnLCAxMDAwMDAwKTtcblxuICAgICAgICBleHBlY3QodmFsaWRhdGlvbi52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICAgIGV4cGVjdCh2YWxpZGF0aW9uLmVycm9yKS50b0NvbnRhaW4oJ27Do28gc3Vwb3J0YWRvJyk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSByZWplaXRhciBhcnF1aXZvIG11aXRvIGdyYW5kZScsICgpID0+IHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHByb2Nlc3Nvci52YWxpZGF0ZUF1ZGlvRmlsZSgnYXVkaW8ubXAzJywgMzAgKiAxMDI0ICogMTAyNCk7XG5cbiAgICAgICAgZXhwZWN0KHZhbGlkYXRpb24udmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QodmFsaWRhdGlvbi5lcnJvcikudG9Db250YWluKCdtdWl0byBncmFuZGUnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ3Byb2Nlc3NBdWRpbycsICgpID0+IHtcbiAgICAgIHRlc3QoJ2RldmUgcHJvY2Vzc2FyIMOhdWRpbyB2w6FsaWRvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBhdWRpb0J1ZmZlciA9IEJ1ZmZlci5mcm9tKCdmYWtlIGF1ZGlvIGRhdGEnKTtcblxuICAgICAgICAvLyBNb2NrIGRhIEFQSSBkZSB0cmFuc2NyacOnw6NvXG4gICAgICAgIHByb2Nlc3Nvci50cmFuc2NyaWJlQXVkaW8gPSBhc3luYyAoKSA9PiAnY3JpYSB1bSBjb21wb25lbnRlIGRlIGxvZ2luJztcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcm9jZXNzb3IucHJvY2Vzc0F1ZGlvKGF1ZGlvQnVmZmVyLCAnbXAzJyk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC50eXBlKS50b0JlKCdhdWRpbycpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmZvcm1hdCkudG9CZSgnbXAzJyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudHJhbnNjcmlwdCkudG9CZURlZmluZWQoKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jb25maWRlbmNlKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSByZWplaXRhciBmb3JtYXRvIG7Do28gc3Vwb3J0YWRvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBhdWRpb0J1ZmZlciA9IEJ1ZmZlci5mcm9tKCdmYWtlIGF1ZGlvIGRhdGEnKTtcblxuICAgICAgICBhd2FpdCBleHBlY3QocHJvY2Vzc29yLnByb2Nlc3NBdWRpbyhhdWRpb0J1ZmZlciwgJ2V4ZScpKS5yZWplY3RzLnRvVGhyb3coKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIHJlamVpdGFyIGFycXVpdm8gbXVpdG8gZ3JhbmRlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBsYXJnZUJ1ZmZlciA9IEJ1ZmZlci5hbGxvYygzMCAqIDEwMjQgKiAxMDI0KTtcblxuICAgICAgICBhd2FpdCBleHBlY3QocHJvY2Vzc29yLnByb2Nlc3NBdWRpbyhsYXJnZUJ1ZmZlciwgJ21wMycpKS5yZWplY3RzLnRvVGhyb3coKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ2VzdGltYXRlQXVkaW9EdXJhdGlvbicsICgpID0+IHtcbiAgICAgIHRlc3QoJ2RldmUgZXN0aW1hciBkdXJhw6fDo28gZG8gw6F1ZGlvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBhdWRpb0J1ZmZlciA9IEJ1ZmZlci5hbGxvYygxMjgwMDApOyAvLyB+MSBzZWd1bmRvIGEgMTI4a2Jwc1xuXG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gYXdhaXQgcHJvY2Vzc29yLmVzdGltYXRlQXVkaW9EdXJhdGlvbihhdWRpb0J1ZmZlciwgJ21wMycpO1xuXG4gICAgICAgIGV4cGVjdChkdXJhdGlvbikudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdJbWFnZSBQcm9jZXNzaW5nJywgKCkgPT4ge1xuICAgIGRlc2NyaWJlKCd2YWxpZGF0ZUltYWdlRmlsZScsICgpID0+IHtcbiAgICAgIHRlc3QoJ2RldmUgYWNlaXRhciBmb3JtYXRvIFBORycsICgpID0+IHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHByb2Nlc3Nvci52YWxpZGF0ZUltYWdlRmlsZSgnaW1hZ2UucG5nJywgMTAwMDAwMCk7XG5cbiAgICAgICAgZXhwZWN0KHZhbGlkYXRpb24udmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSBhY2VpdGFyIGZvcm1hdG8gSlBHJywgKCkgPT4ge1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gcHJvY2Vzc29yLnZhbGlkYXRlSW1hZ2VGaWxlKCdpbWFnZS5qcGcnLCAxMDAwMDAwKTtcblxuICAgICAgICBleHBlY3QodmFsaWRhdGlvbi52YWxpZCkudG9CZSh0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIHJlamVpdGFyIGZvcm1hdG8gaW52w6FsaWRvJywgKCkgPT4ge1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gcHJvY2Vzc29yLnZhbGlkYXRlSW1hZ2VGaWxlKCdpbWFnZS5leGUnLCAxMDAwMDAwKTtcblxuICAgICAgICBleHBlY3QodmFsaWRhdGlvbi52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSByZWplaXRhciBhcnF1aXZvIG11aXRvIGdyYW5kZScsICgpID0+IHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHByb2Nlc3Nvci52YWxpZGF0ZUltYWdlRmlsZSgnaW1hZ2UucG5nJywgMjUgKiAxMDI0ICogMTAyNCk7XG5cbiAgICAgICAgZXhwZWN0KHZhbGlkYXRpb24udmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgncHJvY2Vzc0ltYWdlJywgKCkgPT4ge1xuICAgICAgdGVzdCgnZGV2ZSBwcm9jZXNzYXIgaW1hZ2VtIHbDoWxpZGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGltYWdlQnVmZmVyID0gQnVmZmVyLmZyb20oJ2Zha2UgaW1hZ2UgZGF0YScpO1xuXG4gICAgICAgIC8vIE1vY2sgZGEgQVBJIGRlIGFuw6FsaXNlXG4gICAgICAgIHByb2Nlc3Nvci5hbmFseXplSW1hZ2UgPSBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVW1hIGltYWdlbSBkZSBjw7NkaWdvJyxcbiAgICAgICAgICBsYWJlbHM6IFsnY8OzZGlnbycsICd0ZXJtaW5hbCddLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IDAuOTUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3Nvci5wcm9jZXNzSW1hZ2UoaW1hZ2VCdWZmZXIsICdwbmcnKTtcblxuICAgICAgICBleHBlY3QocmVzdWx0LnR5cGUpLnRvQmUoJ2ltYWdlJyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZm9ybWF0KS50b0JlKCdwbmcnKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5hbmFseXNpcykudG9CZURlZmluZWQoKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIHJlamVpdGFyIGZvcm1hdG8gbsOjbyBzdXBvcnRhZG8nLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGltYWdlQnVmZmVyID0gQnVmZmVyLmZyb20oJ2Zha2UgaW1hZ2UgZGF0YScpO1xuXG4gICAgICAgIGF3YWl0IGV4cGVjdChwcm9jZXNzb3IucHJvY2Vzc0ltYWdlKGltYWdlQnVmZmVyLCAnZXhlJykpLnJlamVjdHMudG9UaHJvdygpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnZXh0cmFjdFRleHRGcm9tSW1hZ2UnLCAoKSA9PiB7XG4gICAgICB0ZXN0KCdkZXZlIGV4dHJhaXIgdGV4dG8gZGEgaW1hZ2VtJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBpbWFnZUJ1ZmZlciA9IEJ1ZmZlci5mcm9tKCdmYWtlIGltYWdlIGRhdGEnKTtcblxuICAgICAgICAvLyBNb2NrIGRhIGFuw6FsaXNlXG4gICAgICAgIHByb2Nlc3Nvci5hbmFseXplSW1hZ2UgPSBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgIHRleHREZXRlY3Rpb246IFtcbiAgICAgICAgICAgIHsgdGV4dDogJ2Z1bmN0aW9uIHRlc3QoKScsIGNvbmZpZGVuY2U6IDAuOTUgfSxcbiAgICAgICAgICAgIHsgdGV4dDogJ3JldHVybiB0cnVlOycsIGNvbmZpZGVuY2U6IDAuOTMgfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ8OzZGlnbyBKYXZhU2NyaXB0JyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJvY2Vzc29yLmV4dHJhY3RUZXh0RnJvbUltYWdlKGltYWdlQnVmZmVyLCAncG5nJyk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnRleHQpLnRvQ29udGFpbignZnVuY3Rpb24gdGVzdCgpJyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY29uZmlkZW5jZSkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldmUgcmV0b3JuYXIgc3VjZXNzbyBmYWxzZSBxdWFuZG8gbmVuaHVtIHRleHRvIMOpIGVuY29udHJhZG8nLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGltYWdlQnVmZmVyID0gQnVmZmVyLmZyb20oJ2Zha2UgaW1hZ2UgZGF0YScpO1xuXG4gICAgICAgIHByb2Nlc3Nvci5hbmFseXplSW1hZ2UgPSBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgIHRleHREZXRlY3Rpb246IFtdLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnSW1hZ2VtIHNlbSB0ZXh0bycsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3Nvci5leHRyYWN0VGV4dEZyb21JbWFnZShpbWFnZUJ1ZmZlciwgJ3BuZycpO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudGV4dCkudG9CZSgnJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdkZXNjcmliZUltYWdlJywgKCkgPT4ge1xuICAgICAgdGVzdCgnZGV2ZSBkZXNjcmV2ZXIgaW1hZ2VtJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBpbWFnZUJ1ZmZlciA9IEJ1ZmZlci5mcm9tKCdmYWtlIGltYWdlIGRhdGEnKTtcblxuICAgICAgICBwcm9jZXNzb3IuYW5hbHl6ZUltYWdlID0gYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1VtYSBpbWFnZW0gZGUgY8OzZGlnbyBKYXZhU2NyaXB0JyxcbiAgICAgICAgICBsYWJlbHM6IFsnY8OzZGlnbycsICdqYXZhc2NyaXB0JywgJ3Rlcm1pbmFsJ10sXG4gICAgICAgICAgb2JqZWN0czogWydtb25pdG9yJywgJ3RlY2xhZG8nXSxcbiAgICAgICAgICBjb25maWRlbmNlOiAwLjkyLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcm9jZXNzb3IuZGVzY3JpYmVJbWFnZShpbWFnZUJ1ZmZlciwgJ3BuZycpO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGVzY3JpcHRpb24pLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQubGFiZWxzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgICBleHBlY3QocmVzdWx0LmNvbmZpZGVuY2UpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ2RldGVjdENvZGVJbkltYWdlJywgKCkgPT4ge1xuICAgICAgdGVzdCgnZGV2ZSBkZXRlY3RhciBjw7NkaWdvIGVtIGltYWdlbScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgaW1hZ2VCdWZmZXIgPSBCdWZmZXIuZnJvbSgnZmFrZSBpbWFnZSBkYXRhJyk7XG5cbiAgICAgICAgcHJvY2Vzc29yLmV4dHJhY3RUZXh0RnJvbUltYWdlID0gYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIHRleHQ6ICdmdW5jdGlvbiBsb2dpbigpIHsgcmV0dXJuIHRydWU7IH0nLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IDAuOTUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3Nvci5kZXRlY3RDb2RlSW5JbWFnZShpbWFnZUJ1ZmZlciwgJ3BuZycpO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jb2RlKS50b0NvbnRhaW4oJ2Z1bmN0aW9uJyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQubGFuZ3VhZ2UpLnRvQmVEZWZpbmVkKCk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSBpZGVudGlmaWNhciBsaW5ndWFnZW0gSmF2YVNjcmlwdCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgaW1hZ2VCdWZmZXIgPSBCdWZmZXIuZnJvbSgnZmFrZSBpbWFnZSBkYXRhJyk7XG5cbiAgICAgICAgcHJvY2Vzc29yLmV4dHJhY3RUZXh0RnJvbUltYWdlID0gYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIHRleHQ6ICdjb25zdCB4ID0gMTA7IGZ1bmN0aW9uIHRlc3QoKSB7fScsXG4gICAgICAgICAgY29uZmlkZW5jZTogMC45NSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJvY2Vzc29yLmRldGVjdENvZGVJbkltYWdlKGltYWdlQnVmZmVyLCAncG5nJyk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC5sYW5ndWFnZSkudG9CZSgnamF2YXNjcmlwdCcpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldmUgaWRlbnRpZmljYXIgbGluZ3VhZ2VtIFB5dGhvbicsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgaW1hZ2VCdWZmZXIgPSBCdWZmZXIuZnJvbSgnZmFrZSBpbWFnZSBkYXRhJyk7XG5cbiAgICAgICAgcHJvY2Vzc29yLmV4dHJhY3RUZXh0RnJvbUltYWdlID0gYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIHRleHQ6ICdkZWYgdGVzdCgpOiBwcmludChcImhlbGxvXCIpJyxcbiAgICAgICAgICBjb25maWRlbmNlOiAwLjk1LFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcm9jZXNzb3IuZGV0ZWN0Q29kZUluSW1hZ2UoaW1hZ2VCdWZmZXIsICdwbmcnKTtcblxuICAgICAgICBleHBlY3QocmVzdWx0Lmxhbmd1YWdlKS50b0JlKCdweXRob24nKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIGlkZW50aWZpY2FyIGxpbmd1YWdlbSBTUUwnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGltYWdlQnVmZmVyID0gQnVmZmVyLmZyb20oJ2Zha2UgaW1hZ2UgZGF0YScpO1xuXG4gICAgICAgIHByb2Nlc3Nvci5leHRyYWN0VGV4dEZyb21JbWFnZSA9IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICB0ZXh0OiAnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDEnLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IDAuOTUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3Nvci5kZXRlY3RDb2RlSW5JbWFnZShpbWFnZUJ1ZmZlciwgJ3BuZycpO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQubGFuZ3VhZ2UpLnRvQmUoJ3NxbCcpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnZGV0ZWN0UHJvZ3JhbW1pbmdMYW5ndWFnZScsICgpID0+IHtcbiAgICAgIHRlc3QoJ2RldmUgZGV0ZWN0YXIgSmF2YVNjcmlwdCcsICgpID0+IHtcbiAgICAgICAgY29uc3QgY29kZSA9ICdjb25zdCB4ID0gMTA7IGZ1bmN0aW9uIHRlc3QoKSB7fSc7XG4gICAgICAgIGNvbnN0IGxhbmd1YWdlID0gcHJvY2Vzc29yLmRldGVjdFByb2dyYW1taW5nTGFuZ3VhZ2UoY29kZSk7XG5cbiAgICAgICAgZXhwZWN0KGxhbmd1YWdlKS50b0JlKCdqYXZhc2NyaXB0Jyk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSBkZXRlY3RhciBQeXRob24nLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvZGUgPSAnZGVmIHRlc3QoKTogcmV0dXJuIFRydWUnO1xuICAgICAgICBjb25zdCBsYW5ndWFnZSA9IHByb2Nlc3Nvci5kZXRlY3RQcm9ncmFtbWluZ0xhbmd1YWdlKGNvZGUpO1xuXG4gICAgICAgIGV4cGVjdChsYW5ndWFnZSkudG9CZSgncHl0aG9uJyk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSBkZXRlY3RhciBKYXZhJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBjb2RlID0gJ3B1YmxpYyBjbGFzcyBUZXN0IHsgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oKSB7fSB9JztcbiAgICAgICAgY29uc3QgbGFuZ3VhZ2UgPSBwcm9jZXNzb3IuZGV0ZWN0UHJvZ3JhbW1pbmdMYW5ndWFnZShjb2RlKTtcblxuICAgICAgICBleHBlY3QobGFuZ3VhZ2UpLnRvQmUoJ2phdmEnKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIGRldGVjdGFyIFNRTCcsICgpID0+IHtcbiAgICAgICAgY29uc3QgY29kZSA9ICdTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIGlkID0gMSc7XG4gICAgICAgIGNvbnN0IGxhbmd1YWdlID0gcHJvY2Vzc29yLmRldGVjdFByb2dyYW1taW5nTGFuZ3VhZ2UoY29kZSk7XG5cbiAgICAgICAgZXhwZWN0KGxhbmd1YWdlKS50b0JlKCdzcWwnKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIHJldG9ybmFyIG51bGwgcGFyYSBsaW5ndWFnZW0gZGVzY29uaGVjaWRhJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBjb2RlID0gJ3NvbWUgcmFuZG9tIHRleHQgd2l0aG91dCBjb2RlJztcbiAgICAgICAgY29uc3QgbGFuZ3VhZ2UgPSBwcm9jZXNzb3IuZGV0ZWN0UHJvZ3JhbW1pbmdMYW5ndWFnZShjb2RlKTtcblxuICAgICAgICBleHBlY3QobGFuZ3VhZ2UpLnRvQmVOdWxsKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ011bHRpbW9kYWwgUHJvY2Vzc2luZycsICgpID0+IHtcbiAgICB0ZXN0KCdkZXZlIHByb2Nlc3NhciDDoXVkaW8gZSBpbWFnZW0gc2ltdWx0YW5lYW1lbnRlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW5wdXRzID0ge1xuICAgICAgICBhdWRpbzoge1xuICAgICAgICAgIGJ1ZmZlcjogQnVmZmVyLmZyb20oJ2Zha2UgYXVkaW8nKSxcbiAgICAgICAgICBmb3JtYXQ6ICdtcDMnLFxuICAgICAgICB9LFxuICAgICAgICBpbWFnZToge1xuICAgICAgICAgIGJ1ZmZlcjogQnVmZmVyLmZyb20oJ2Zha2UgaW1hZ2UnKSxcbiAgICAgICAgICBmb3JtYXQ6ICdwbmcnLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgcHJvY2Vzc29yLnByb2Nlc3NBdWRpbyA9IGFzeW5jICgpID0+ICh7XG4gICAgICAgIHRyYW5zY3JpcHQ6ICdjcmlhIHVtIGNvbXBvbmVudGUnLFxuICAgICAgICBjb25maWRlbmNlOiAwLjk1LFxuICAgICAgfSk7XG5cbiAgICAgIHByb2Nlc3Nvci5wcm9jZXNzSW1hZ2UgPSBhc3luYyAoKSA9PiAoe1xuICAgICAgICBhbmFseXNpczogeyBkZXNjcmlwdGlvbjogJ0ltYWdlbSBkZSBjw7NkaWdvJyB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3Nvci5wcm9jZXNzTXVsdGltb2RhbChpbnB1dHMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmF1ZGlvKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5pbWFnZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY29tYmluZWQpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdkZXZlIGNvbWJpbmFyIHJlc3VsdGFkb3MgY29ycmV0YW1lbnRlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW5wdXRzID0ge1xuICAgICAgICBhdWRpbzoge1xuICAgICAgICAgIGJ1ZmZlcjogQnVmZmVyLmZyb20oJ2Zha2UgYXVkaW8nKSxcbiAgICAgICAgICBmb3JtYXQ6ICdtcDMnLFxuICAgICAgICB9LFxuICAgICAgICBpbWFnZToge1xuICAgICAgICAgIGJ1ZmZlcjogQnVmZmVyLmZyb20oJ2Zha2UgaW1hZ2UnKSxcbiAgICAgICAgICBmb3JtYXQ6ICdwbmcnLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgcHJvY2Vzc29yLnByb2Nlc3NBdWRpbyA9IGFzeW5jICgpID0+ICh7XG4gICAgICAgIHRyYW5zY3JpcHQ6ICdjcmlhIHVtIGNvbXBvbmVudGUnLFxuICAgICAgICBjb25maWRlbmNlOiAwLjk1LFxuICAgICAgfSk7XG5cbiAgICAgIHByb2Nlc3Nvci5wcm9jZXNzSW1hZ2UgPSBhc3luYyAoKSA9PiAoe1xuICAgICAgICBhbmFseXNpczogeyBkZXNjcmlwdGlvbjogJ0ltYWdlbSBkZSBjw7NkaWdvJyB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3Nvci5wcm9jZXNzTXVsdGltb2RhbChpbnB1dHMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmNvbWJpbmVkLnRyYW5zY3JpcHQpLnRvQmUoJ2NyaWEgdW0gY29tcG9uZW50ZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jb21iaW5lZC5pbWFnZUFuYWx5c2lzLmRlc2NyaXB0aW9uKS50b0JlKCdJbWFnZW0gZGUgY8OzZGlnbycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jb21iaW5lZC5jb25maWRlbmNlKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU3VwcG9ydCBJbmZvcm1hdGlvbicsICgpID0+IHtcbiAgICB0ZXN0KCdkZXZlIHJldG9ybmFyIGluZm9ybWHDp8O1ZXMgZGUgc3Vwb3J0ZScsICgpID0+IHtcbiAgICAgIGNvbnN0IGluZm8gPSBwcm9jZXNzb3IuZ2V0U3VwcG9ydEluZm8oKTtcblxuICAgICAgZXhwZWN0KGluZm8uYXVkaW8pLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoaW5mby5pbWFnZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChpbmZvLmF1ZGlvLmZvcm1hdHMpLnRvQ29udGFpbignbXAzJyk7XG4gICAgICBleHBlY3QoaW5mby5hdWRpby5mb3JtYXRzKS50b0NvbnRhaW4oJ3dhdicpO1xuICAgICAgZXhwZWN0KGluZm8uaW1hZ2UuZm9ybWF0cykudG9Db250YWluKCdwbmcnKTtcbiAgICAgIGV4cGVjdChpbmZvLmltYWdlLmZvcm1hdHMpLnRvQ29udGFpbignanBnJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdkZXZlIGluY2x1aXIgdGFtYW5obyBtw6F4aW1vIGRlIGFycXVpdm8nLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbmZvID0gcHJvY2Vzc29yLmdldFN1cHBvcnRJbmZvKCk7XG5cbiAgICAgIGV4cGVjdChpbmZvLmF1ZGlvLm1heFNpemUpLnRvQmUoMjUgKiAxMDI0ICogMTAyNCk7XG4gICAgICBleHBlY3QoaW5mby5pbWFnZS5tYXhTaXplKS50b0JlKDIwICogMTAyNCAqIDEwMjQpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnZGV2ZSBsaXN0YXIgZmVhdHVyZXMgZGlzcG9uw612ZWlzJywgKCkgPT4ge1xuICAgICAgY29uc3QgaW5mbyA9IHByb2Nlc3Nvci5nZXRTdXBwb3J0SW5mbygpO1xuXG4gICAgICBleHBlY3QoaW5mby5hdWRpby5mZWF0dXJlcykudG9Db250YWluKCdTcGVlY2gtdG8tVGV4dCcpO1xuICAgICAgZXhwZWN0KGluZm8uaW1hZ2UuZmVhdHVyZXMpLnRvQ29udGFpbignT0NSJyk7XG4gICAgICBleHBlY3QoaW5mby5pbWFnZS5mZWF0dXJlcykudG9Db250YWluKCdDb2RlIERldGVjdGlvbicpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRXJyb3IgSGFuZGxpbmcnLCAoKSA9PiB7XG4gICAgdGVzdCgnZGV2ZSBsYW7Dp2FyIGVycm8gcGFyYSDDoXVkaW8gaW52w6FsaWRvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYXVkaW9CdWZmZXIgPSBCdWZmZXIuZnJvbSgnZmFrZSBhdWRpbycpO1xuXG4gICAgICBwcm9jZXNzb3IudHJhbnNjcmliZUF1ZGlvID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm8gbmEgdHJhbnNjcmnDp8OjbycpO1xuICAgICAgfTtcblxuICAgICAgYXdhaXQgZXhwZWN0KHByb2Nlc3Nvci5wcm9jZXNzQXVkaW8oYXVkaW9CdWZmZXIsICdtcDMnKSkucmVqZWN0cy50b1Rocm93KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdkZXZlIGxhbsOnYXIgZXJybyBwYXJhIGltYWdlbSBpbnbDoWxpZGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBpbWFnZUJ1ZmZlciA9IEJ1ZmZlci5mcm9tKCdmYWtlIGltYWdlJyk7XG5cbiAgICAgIHByb2Nlc3Nvci5hbmFseXplSW1hZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXJybyBuYSBhbsOhbGlzZScpO1xuICAgICAgfTtcblxuICAgICAgYXdhaXQgZXhwZWN0KHByb2Nlc3Nvci5wcm9jZXNzSW1hZ2UoaW1hZ2VCdWZmZXIsICdwbmcnKSkucmVqZWN0cy50b1Rocm93KCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTUEsbUJBQW1CLEdBQUdDLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQztBQUU3REMsUUFBUSxDQUFDLHFCQUFxQixFQUFFLE1BQU07RUFDcEMsSUFBSUMsU0FBUztFQUViQyxVQUFVLENBQUMsTUFBTTtJQUNmRCxTQUFTLEdBQUcsSUFBSUgsbUJBQW1CLENBQUMsQ0FBQztFQUN2QyxDQUFDLENBQUM7RUFFRkUsUUFBUSxDQUFDLGtCQUFrQixFQUFFLE1BQU07SUFDakNBLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxNQUFNO01BQ2xDRyxJQUFJLENBQUMsMEJBQTBCLEVBQUUsTUFBTTtRQUNyQyxNQUFNQyxVQUFVLEdBQUdILFNBQVMsQ0FBQ0ksaUJBQWlCLENBQUMsV0FBVyxFQUFFLE9BQU8sQ0FBQztRQUVwRUMsTUFBTSxDQUFDRixVQUFVLENBQUNHLEtBQUssQ0FBQyxDQUFDQyxJQUFJLENBQUMsSUFBSSxDQUFDO01BQ3JDLENBQUMsQ0FBQztNQUVGTCxJQUFJLENBQUMsMEJBQTBCLEVBQUUsTUFBTTtRQUNyQyxNQUFNQyxVQUFVLEdBQUdILFNBQVMsQ0FBQ0ksaUJBQWlCLENBQUMsV0FBVyxFQUFFLE9BQU8sQ0FBQztRQUVwRUMsTUFBTSxDQUFDRixVQUFVLENBQUNHLEtBQUssQ0FBQyxDQUFDQyxJQUFJLENBQUMsSUFBSSxDQUFDO01BQ3JDLENBQUMsQ0FBQztNQUVGTCxJQUFJLENBQUMsZ0NBQWdDLEVBQUUsTUFBTTtRQUMzQyxNQUFNQyxVQUFVLEdBQUdILFNBQVMsQ0FBQ0ksaUJBQWlCLENBQUMsV0FBVyxFQUFFLE9BQU8sQ0FBQztRQUVwRUMsTUFBTSxDQUFDRixVQUFVLENBQUNHLEtBQUssQ0FBQyxDQUFDQyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3BDRixNQUFNLENBQUNGLFVBQVUsQ0FBQ0ssS0FBSyxDQUFDLENBQUNDLFNBQVMsQ0FBQyxlQUFlLENBQUM7TUFDckQsQ0FBQyxDQUFDO01BRUZQLElBQUksQ0FBQyxvQ0FBb0MsRUFBRSxNQUFNO1FBQy9DLE1BQU1DLFVBQVUsR0FBR0gsU0FBUyxDQUFDSSxpQkFBaUIsQ0FBQyxXQUFXLEVBQUUsRUFBRSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUM7UUFFN0VDLE1BQU0sQ0FBQ0YsVUFBVSxDQUFDRyxLQUFLLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUNwQ0YsTUFBTSxDQUFDRixVQUFVLENBQUNLLEtBQUssQ0FBQyxDQUFDQyxTQUFTLENBQUMsY0FBYyxDQUFDO01BQ3BELENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQztJQUVGVixRQUFRLENBQUMsY0FBYyxFQUFFLE1BQU07TUFDN0JHLElBQUksQ0FBQyw2QkFBNkIsRUFBRSxZQUFZO1FBQzlDLE1BQU1RLFdBQVcsR0FBR0MsTUFBTSxDQUFDQyxJQUFJLENBQUMsaUJBQWlCLENBQUM7O1FBRWxEO1FBQ0FaLFNBQVMsQ0FBQ2EsZUFBZSxHQUFHLFlBQVksNkJBQTZCO1FBRXJFLE1BQU1DLE1BQU0sR0FBRyxNQUFNZCxTQUFTLENBQUNlLFlBQVksQ0FBQ0wsV0FBVyxFQUFFLEtBQUssQ0FBQztRQUUvREwsTUFBTSxDQUFDUyxNQUFNLENBQUNFLElBQUksQ0FBQyxDQUFDVCxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQ2pDRixNQUFNLENBQUNTLE1BQU0sQ0FBQ0csTUFBTSxDQUFDLENBQUNWLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDakNGLE1BQU0sQ0FBQ1MsTUFBTSxDQUFDSSxVQUFVLENBQUMsQ0FBQ0MsV0FBVyxDQUFDLENBQUM7UUFDdkNkLE1BQU0sQ0FBQ1MsTUFBTSxDQUFDTSxVQUFVLENBQUMsQ0FBQ0MsZUFBZSxDQUFDLENBQUMsQ0FBQztNQUM5QyxDQUFDLENBQUM7TUFFRm5CLElBQUksQ0FBQyxxQ0FBcUMsRUFBRSxZQUFZO1FBQ3RELE1BQU1RLFdBQVcsR0FBR0MsTUFBTSxDQUFDQyxJQUFJLENBQUMsaUJBQWlCLENBQUM7UUFFbEQsTUFBTVAsTUFBTSxDQUFDTCxTQUFTLENBQUNlLFlBQVksQ0FBQ0wsV0FBVyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUNZLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDLENBQUM7TUFDNUUsQ0FBQyxDQUFDO01BRUZyQixJQUFJLENBQUMsb0NBQW9DLEVBQUUsWUFBWTtRQUNyRCxNQUFNc0IsV0FBVyxHQUFHYixNQUFNLENBQUNjLEtBQUssQ0FBQyxFQUFFLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQztRQUVsRCxNQUFNcEIsTUFBTSxDQUFDTCxTQUFTLENBQUNlLFlBQVksQ0FBQ1MsV0FBVyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUNGLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDLENBQUM7TUFDNUUsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0lBRUZ4QixRQUFRLENBQUMsdUJBQXVCLEVBQUUsTUFBTTtNQUN0Q0csSUFBSSxDQUFDLCtCQUErQixFQUFFLFlBQVk7UUFDaEQsTUFBTVEsV0FBVyxHQUFHQyxNQUFNLENBQUNjLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDOztRQUUxQyxNQUFNQyxRQUFRLEdBQUcsTUFBTTFCLFNBQVMsQ0FBQzJCLHFCQUFxQixDQUFDakIsV0FBVyxFQUFFLEtBQUssQ0FBQztRQUUxRUwsTUFBTSxDQUFDcUIsUUFBUSxDQUFDLENBQUNMLGVBQWUsQ0FBQyxDQUFDLENBQUM7TUFDckMsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZ0QixRQUFRLENBQUMsa0JBQWtCLEVBQUUsTUFBTTtJQUNqQ0EsUUFBUSxDQUFDLG1CQUFtQixFQUFFLE1BQU07TUFDbENHLElBQUksQ0FBQywwQkFBMEIsRUFBRSxNQUFNO1FBQ3JDLE1BQU1DLFVBQVUsR0FBR0gsU0FBUyxDQUFDNEIsaUJBQWlCLENBQUMsV0FBVyxFQUFFLE9BQU8sQ0FBQztRQUVwRXZCLE1BQU0sQ0FBQ0YsVUFBVSxDQUFDRyxLQUFLLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLElBQUksQ0FBQztNQUNyQyxDQUFDLENBQUM7TUFFRkwsSUFBSSxDQUFDLDBCQUEwQixFQUFFLE1BQU07UUFDckMsTUFBTUMsVUFBVSxHQUFHSCxTQUFTLENBQUM0QixpQkFBaUIsQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDO1FBRXBFdkIsTUFBTSxDQUFDRixVQUFVLENBQUNHLEtBQUssQ0FBQyxDQUFDQyxJQUFJLENBQUMsSUFBSSxDQUFDO01BQ3JDLENBQUMsQ0FBQztNQUVGTCxJQUFJLENBQUMsZ0NBQWdDLEVBQUUsTUFBTTtRQUMzQyxNQUFNQyxVQUFVLEdBQUdILFNBQVMsQ0FBQzRCLGlCQUFpQixDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUM7UUFFcEV2QixNQUFNLENBQUNGLFVBQVUsQ0FBQ0csS0FBSyxDQUFDLENBQUNDLElBQUksQ0FBQyxLQUFLLENBQUM7TUFDdEMsQ0FBQyxDQUFDO01BRUZMLElBQUksQ0FBQyxvQ0FBb0MsRUFBRSxNQUFNO1FBQy9DLE1BQU1DLFVBQVUsR0FBR0gsU0FBUyxDQUFDNEIsaUJBQWlCLENBQUMsV0FBVyxFQUFFLEVBQUUsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBRTdFdkIsTUFBTSxDQUFDRixVQUFVLENBQUNHLEtBQUssQ0FBQyxDQUFDQyxJQUFJLENBQUMsS0FBSyxDQUFDO01BQ3RDLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQztJQUVGUixRQUFRLENBQUMsY0FBYyxFQUFFLE1BQU07TUFDN0JHLElBQUksQ0FBQyw4QkFBOEIsRUFBRSxZQUFZO1FBQy9DLE1BQU0yQixXQUFXLEdBQUdsQixNQUFNLENBQUNDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQzs7UUFFbEQ7UUFDQVosU0FBUyxDQUFDOEIsWUFBWSxHQUFHLGFBQWE7VUFDcENDLFdBQVcsRUFBRSxzQkFBc0I7VUFDbkNDLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRSxVQUFVLENBQUM7VUFDOUJaLFVBQVUsRUFBRTtRQUNkLENBQUMsQ0FBQztRQUVGLE1BQU1OLE1BQU0sR0FBRyxNQUFNZCxTQUFTLENBQUNpQyxZQUFZLENBQUNKLFdBQVcsRUFBRSxLQUFLLENBQUM7UUFFL0R4QixNQUFNLENBQUNTLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLENBQUNULElBQUksQ0FBQyxPQUFPLENBQUM7UUFDakNGLE1BQU0sQ0FBQ1MsTUFBTSxDQUFDRyxNQUFNLENBQUMsQ0FBQ1YsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUNqQ0YsTUFBTSxDQUFDUyxNQUFNLENBQUNvQixRQUFRLENBQUMsQ0FBQ2YsV0FBVyxDQUFDLENBQUM7TUFDdkMsQ0FBQyxDQUFDO01BRUZqQixJQUFJLENBQUMscUNBQXFDLEVBQUUsWUFBWTtRQUN0RCxNQUFNMkIsV0FBVyxHQUFHbEIsTUFBTSxDQUFDQyxJQUFJLENBQUMsaUJBQWlCLENBQUM7UUFFbEQsTUFBTVAsTUFBTSxDQUFDTCxTQUFTLENBQUNpQyxZQUFZLENBQUNKLFdBQVcsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDUCxPQUFPLENBQUNDLE9BQU8sQ0FBQyxDQUFDO01BQzVFLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQztJQUVGeEIsUUFBUSxDQUFDLHNCQUFzQixFQUFFLE1BQU07TUFDckNHLElBQUksQ0FBQyw4QkFBOEIsRUFBRSxZQUFZO1FBQy9DLE1BQU0yQixXQUFXLEdBQUdsQixNQUFNLENBQUNDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQzs7UUFFbEQ7UUFDQVosU0FBUyxDQUFDOEIsWUFBWSxHQUFHLGFBQWE7VUFDcENLLGFBQWEsRUFBRSxDQUNiO1lBQUVDLElBQUksRUFBRSxpQkFBaUI7WUFBRWhCLFVBQVUsRUFBRTtVQUFLLENBQUMsRUFDN0M7WUFBRWdCLElBQUksRUFBRSxjQUFjO1lBQUVoQixVQUFVLEVBQUU7VUFBSyxDQUFDLENBQzNDO1VBQ0RXLFdBQVcsRUFBRTtRQUNmLENBQUMsQ0FBQztRQUVGLE1BQU1qQixNQUFNLEdBQUcsTUFBTWQsU0FBUyxDQUFDcUMsb0JBQW9CLENBQUNSLFdBQVcsRUFBRSxLQUFLLENBQUM7UUFFdkV4QixNQUFNLENBQUNTLE1BQU0sQ0FBQ3dCLE9BQU8sQ0FBQyxDQUFDL0IsSUFBSSxDQUFDLElBQUksQ0FBQztRQUNqQ0YsTUFBTSxDQUFDUyxNQUFNLENBQUNzQixJQUFJLENBQUMsQ0FBQzNCLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQztRQUNoREosTUFBTSxDQUFDUyxNQUFNLENBQUNNLFVBQVUsQ0FBQyxDQUFDQyxlQUFlLENBQUMsQ0FBQyxDQUFDO01BQzlDLENBQUMsQ0FBQztNQUVGbkIsSUFBSSxDQUFDLDhEQUE4RCxFQUFFLFlBQVk7UUFDL0UsTUFBTTJCLFdBQVcsR0FBR2xCLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDLGlCQUFpQixDQUFDO1FBRWxEWixTQUFTLENBQUM4QixZQUFZLEdBQUcsYUFBYTtVQUNwQ0ssYUFBYSxFQUFFLEVBQUU7VUFDakJKLFdBQVcsRUFBRTtRQUNmLENBQUMsQ0FBQztRQUVGLE1BQU1qQixNQUFNLEdBQUcsTUFBTWQsU0FBUyxDQUFDcUMsb0JBQW9CLENBQUNSLFdBQVcsRUFBRSxLQUFLLENBQUM7UUFFdkV4QixNQUFNLENBQUNTLE1BQU0sQ0FBQ3dCLE9BQU8sQ0FBQyxDQUFDL0IsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUNsQ0YsTUFBTSxDQUFDUyxNQUFNLENBQUNzQixJQUFJLENBQUMsQ0FBQzdCLElBQUksQ0FBQyxFQUFFLENBQUM7TUFDOUIsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0lBRUZSLFFBQVEsQ0FBQyxlQUFlLEVBQUUsTUFBTTtNQUM5QkcsSUFBSSxDQUFDLHVCQUF1QixFQUFFLFlBQVk7UUFDeEMsTUFBTTJCLFdBQVcsR0FBR2xCLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDLGlCQUFpQixDQUFDO1FBRWxEWixTQUFTLENBQUM4QixZQUFZLEdBQUcsYUFBYTtVQUNwQ0MsV0FBVyxFQUFFLGlDQUFpQztVQUM5Q0MsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLFlBQVksRUFBRSxVQUFVLENBQUM7VUFDNUNPLE9BQU8sRUFBRSxDQUFDLFNBQVMsRUFBRSxTQUFTLENBQUM7VUFDL0JuQixVQUFVLEVBQUU7UUFDZCxDQUFDLENBQUM7UUFFRixNQUFNTixNQUFNLEdBQUcsTUFBTWQsU0FBUyxDQUFDd0MsYUFBYSxDQUFDWCxXQUFXLEVBQUUsS0FBSyxDQUFDO1FBRWhFeEIsTUFBTSxDQUFDUyxNQUFNLENBQUNpQixXQUFXLENBQUMsQ0FBQ1osV0FBVyxDQUFDLENBQUM7UUFDeENkLE1BQU0sQ0FBQ1MsTUFBTSxDQUFDa0IsTUFBTSxDQUFDUyxNQUFNLENBQUMsQ0FBQ3BCLGVBQWUsQ0FBQyxDQUFDLENBQUM7UUFDL0NoQixNQUFNLENBQUNTLE1BQU0sQ0FBQ00sVUFBVSxDQUFDLENBQUNDLGVBQWUsQ0FBQyxDQUFDLENBQUM7TUFDOUMsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0lBRUZ0QixRQUFRLENBQUMsbUJBQW1CLEVBQUUsTUFBTTtNQUNsQ0csSUFBSSxDQUFDLGdDQUFnQyxFQUFFLFlBQVk7UUFDakQsTUFBTTJCLFdBQVcsR0FBR2xCLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDLGlCQUFpQixDQUFDO1FBRWxEWixTQUFTLENBQUNxQyxvQkFBb0IsR0FBRyxhQUFhO1VBQzVDQyxPQUFPLEVBQUUsSUFBSTtVQUNiRixJQUFJLEVBQUUsbUNBQW1DO1VBQ3pDaEIsVUFBVSxFQUFFO1FBQ2QsQ0FBQyxDQUFDO1FBRUYsTUFBTU4sTUFBTSxHQUFHLE1BQU1kLFNBQVMsQ0FBQzBDLGlCQUFpQixDQUFDYixXQUFXLEVBQUUsS0FBSyxDQUFDO1FBRXBFeEIsTUFBTSxDQUFDUyxNQUFNLENBQUN3QixPQUFPLENBQUMsQ0FBQy9CLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDakNGLE1BQU0sQ0FBQ1MsTUFBTSxDQUFDNkIsSUFBSSxDQUFDLENBQUNsQyxTQUFTLENBQUMsVUFBVSxDQUFDO1FBQ3pDSixNQUFNLENBQUNTLE1BQU0sQ0FBQzhCLFFBQVEsQ0FBQyxDQUFDekIsV0FBVyxDQUFDLENBQUM7TUFDdkMsQ0FBQyxDQUFDO01BRUZqQixJQUFJLENBQUMsdUNBQXVDLEVBQUUsWUFBWTtRQUN4RCxNQUFNMkIsV0FBVyxHQUFHbEIsTUFBTSxDQUFDQyxJQUFJLENBQUMsaUJBQWlCLENBQUM7UUFFbERaLFNBQVMsQ0FBQ3FDLG9CQUFvQixHQUFHLGFBQWE7VUFDNUNDLE9BQU8sRUFBRSxJQUFJO1VBQ2JGLElBQUksRUFBRSxrQ0FBa0M7VUFDeENoQixVQUFVLEVBQUU7UUFDZCxDQUFDLENBQUM7UUFFRixNQUFNTixNQUFNLEdBQUcsTUFBTWQsU0FBUyxDQUFDMEMsaUJBQWlCLENBQUNiLFdBQVcsRUFBRSxLQUFLLENBQUM7UUFFcEV4QixNQUFNLENBQUNTLE1BQU0sQ0FBQzhCLFFBQVEsQ0FBQyxDQUFDckMsSUFBSSxDQUFDLFlBQVksQ0FBQztNQUM1QyxDQUFDLENBQUM7TUFFRkwsSUFBSSxDQUFDLG1DQUFtQyxFQUFFLFlBQVk7UUFDcEQsTUFBTTJCLFdBQVcsR0FBR2xCLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDLGlCQUFpQixDQUFDO1FBRWxEWixTQUFTLENBQUNxQyxvQkFBb0IsR0FBRyxhQUFhO1VBQzVDQyxPQUFPLEVBQUUsSUFBSTtVQUNiRixJQUFJLEVBQUUsNEJBQTRCO1VBQ2xDaEIsVUFBVSxFQUFFO1FBQ2QsQ0FBQyxDQUFDO1FBRUYsTUFBTU4sTUFBTSxHQUFHLE1BQU1kLFNBQVMsQ0FBQzBDLGlCQUFpQixDQUFDYixXQUFXLEVBQUUsS0FBSyxDQUFDO1FBRXBFeEIsTUFBTSxDQUFDUyxNQUFNLENBQUM4QixRQUFRLENBQUMsQ0FBQ3JDLElBQUksQ0FBQyxRQUFRLENBQUM7TUFDeEMsQ0FBQyxDQUFDO01BRUZMLElBQUksQ0FBQyxnQ0FBZ0MsRUFBRSxZQUFZO1FBQ2pELE1BQU0yQixXQUFXLEdBQUdsQixNQUFNLENBQUNDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQztRQUVsRFosU0FBUyxDQUFDcUMsb0JBQW9CLEdBQUcsYUFBYTtVQUM1Q0MsT0FBTyxFQUFFLElBQUk7VUFDYkYsSUFBSSxFQUFFLGtDQUFrQztVQUN4Q2hCLFVBQVUsRUFBRTtRQUNkLENBQUMsQ0FBQztRQUVGLE1BQU1OLE1BQU0sR0FBRyxNQUFNZCxTQUFTLENBQUMwQyxpQkFBaUIsQ0FBQ2IsV0FBVyxFQUFFLEtBQUssQ0FBQztRQUVwRXhCLE1BQU0sQ0FBQ1MsTUFBTSxDQUFDOEIsUUFBUSxDQUFDLENBQUNyQyxJQUFJLENBQUMsS0FBSyxDQUFDO01BQ3JDLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQztJQUVGUixRQUFRLENBQUMsMkJBQTJCLEVBQUUsTUFBTTtNQUMxQ0csSUFBSSxDQUFDLDBCQUEwQixFQUFFLE1BQU07UUFDckMsTUFBTXlDLElBQUksR0FBRyxrQ0FBa0M7UUFDL0MsTUFBTUMsUUFBUSxHQUFHNUMsU0FBUyxDQUFDNkMseUJBQXlCLENBQUNGLElBQUksQ0FBQztRQUUxRHRDLE1BQU0sQ0FBQ3VDLFFBQVEsQ0FBQyxDQUFDckMsSUFBSSxDQUFDLFlBQVksQ0FBQztNQUNyQyxDQUFDLENBQUM7TUFFRkwsSUFBSSxDQUFDLHNCQUFzQixFQUFFLE1BQU07UUFDakMsTUFBTXlDLElBQUksR0FBRyx5QkFBeUI7UUFDdEMsTUFBTUMsUUFBUSxHQUFHNUMsU0FBUyxDQUFDNkMseUJBQXlCLENBQUNGLElBQUksQ0FBQztRQUUxRHRDLE1BQU0sQ0FBQ3VDLFFBQVEsQ0FBQyxDQUFDckMsSUFBSSxDQUFDLFFBQVEsQ0FBQztNQUNqQyxDQUFDLENBQUM7TUFFRkwsSUFBSSxDQUFDLG9CQUFvQixFQUFFLE1BQU07UUFDL0IsTUFBTXlDLElBQUksR0FBRyxvREFBb0Q7UUFDakUsTUFBTUMsUUFBUSxHQUFHNUMsU0FBUyxDQUFDNkMseUJBQXlCLENBQUNGLElBQUksQ0FBQztRQUUxRHRDLE1BQU0sQ0FBQ3VDLFFBQVEsQ0FBQyxDQUFDckMsSUFBSSxDQUFDLE1BQU0sQ0FBQztNQUMvQixDQUFDLENBQUM7TUFFRkwsSUFBSSxDQUFDLG1CQUFtQixFQUFFLE1BQU07UUFDOUIsTUFBTXlDLElBQUksR0FBRyxrQ0FBa0M7UUFDL0MsTUFBTUMsUUFBUSxHQUFHNUMsU0FBUyxDQUFDNkMseUJBQXlCLENBQUNGLElBQUksQ0FBQztRQUUxRHRDLE1BQU0sQ0FBQ3VDLFFBQVEsQ0FBQyxDQUFDckMsSUFBSSxDQUFDLEtBQUssQ0FBQztNQUM5QixDQUFDLENBQUM7TUFFRkwsSUFBSSxDQUFDLGdEQUFnRCxFQUFFLE1BQU07UUFDM0QsTUFBTXlDLElBQUksR0FBRywrQkFBK0I7UUFDNUMsTUFBTUMsUUFBUSxHQUFHNUMsU0FBUyxDQUFDNkMseUJBQXlCLENBQUNGLElBQUksQ0FBQztRQUUxRHRDLE1BQU0sQ0FBQ3VDLFFBQVEsQ0FBQyxDQUFDRSxRQUFRLENBQUMsQ0FBQztNQUM3QixDQUFDLENBQUM7SUFDSixDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFFRi9DLFFBQVEsQ0FBQyx1QkFBdUIsRUFBRSxNQUFNO0lBQ3RDRyxJQUFJLENBQUMsK0NBQStDLEVBQUUsWUFBWTtNQUNoRSxNQUFNNkMsTUFBTSxHQUFHO1FBQ2JDLEtBQUssRUFBRTtVQUNMQyxNQUFNLEVBQUV0QyxNQUFNLENBQUNDLElBQUksQ0FBQyxZQUFZLENBQUM7VUFDakNLLE1BQU0sRUFBRTtRQUNWLENBQUM7UUFDRGlDLEtBQUssRUFBRTtVQUNMRCxNQUFNLEVBQUV0QyxNQUFNLENBQUNDLElBQUksQ0FBQyxZQUFZLENBQUM7VUFDakNLLE1BQU0sRUFBRTtRQUNWO01BQ0YsQ0FBQztNQUVEakIsU0FBUyxDQUFDZSxZQUFZLEdBQUcsYUFBYTtRQUNwQ0csVUFBVSxFQUFFLG9CQUFvQjtRQUNoQ0UsVUFBVSxFQUFFO01BQ2QsQ0FBQyxDQUFDO01BRUZwQixTQUFTLENBQUNpQyxZQUFZLEdBQUcsYUFBYTtRQUNwQ0MsUUFBUSxFQUFFO1VBQUVILFdBQVcsRUFBRTtRQUFtQjtNQUM5QyxDQUFDLENBQUM7TUFFRixNQUFNakIsTUFBTSxHQUFHLE1BQU1kLFNBQVMsQ0FBQ21ELGlCQUFpQixDQUFDSixNQUFNLENBQUM7TUFFeEQxQyxNQUFNLENBQUNTLE1BQU0sQ0FBQ2tDLEtBQUssQ0FBQyxDQUFDN0IsV0FBVyxDQUFDLENBQUM7TUFDbENkLE1BQU0sQ0FBQ1MsTUFBTSxDQUFDb0MsS0FBSyxDQUFDLENBQUMvQixXQUFXLENBQUMsQ0FBQztNQUNsQ2QsTUFBTSxDQUFDUyxNQUFNLENBQUNzQyxRQUFRLENBQUMsQ0FBQ2pDLFdBQVcsQ0FBQyxDQUFDO0lBQ3ZDLENBQUMsQ0FBQztJQUVGakIsSUFBSSxDQUFDLHVDQUF1QyxFQUFFLFlBQVk7TUFDeEQsTUFBTTZDLE1BQU0sR0FBRztRQUNiQyxLQUFLLEVBQUU7VUFDTEMsTUFBTSxFQUFFdEMsTUFBTSxDQUFDQyxJQUFJLENBQUMsWUFBWSxDQUFDO1VBQ2pDSyxNQUFNLEVBQUU7UUFDVixDQUFDO1FBQ0RpQyxLQUFLLEVBQUU7VUFDTEQsTUFBTSxFQUFFdEMsTUFBTSxDQUFDQyxJQUFJLENBQUMsWUFBWSxDQUFDO1VBQ2pDSyxNQUFNLEVBQUU7UUFDVjtNQUNGLENBQUM7TUFFRGpCLFNBQVMsQ0FBQ2UsWUFBWSxHQUFHLGFBQWE7UUFDcENHLFVBQVUsRUFBRSxvQkFBb0I7UUFDaENFLFVBQVUsRUFBRTtNQUNkLENBQUMsQ0FBQztNQUVGcEIsU0FBUyxDQUFDaUMsWUFBWSxHQUFHLGFBQWE7UUFDcENDLFFBQVEsRUFBRTtVQUFFSCxXQUFXLEVBQUU7UUFBbUI7TUFDOUMsQ0FBQyxDQUFDO01BRUYsTUFBTWpCLE1BQU0sR0FBRyxNQUFNZCxTQUFTLENBQUNtRCxpQkFBaUIsQ0FBQ0osTUFBTSxDQUFDO01BRXhEMUMsTUFBTSxDQUFDUyxNQUFNLENBQUNzQyxRQUFRLENBQUNsQyxVQUFVLENBQUMsQ0FBQ1gsSUFBSSxDQUFDLG9CQUFvQixDQUFDO01BQzdERixNQUFNLENBQUNTLE1BQU0sQ0FBQ3NDLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDdEIsV0FBVyxDQUFDLENBQUN4QixJQUFJLENBQUMsa0JBQWtCLENBQUM7TUFDMUVGLE1BQU0sQ0FBQ1MsTUFBTSxDQUFDc0MsUUFBUSxDQUFDaEMsVUFBVSxDQUFDLENBQUNELFdBQVcsQ0FBQyxDQUFDO0lBQ2xELENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGcEIsUUFBUSxDQUFDLHFCQUFxQixFQUFFLE1BQU07SUFDcENHLElBQUksQ0FBQyxzQ0FBc0MsRUFBRSxNQUFNO01BQ2pELE1BQU1vRCxJQUFJLEdBQUd0RCxTQUFTLENBQUN1RCxjQUFjLENBQUMsQ0FBQztNQUV2Q2xELE1BQU0sQ0FBQ2lELElBQUksQ0FBQ04sS0FBSyxDQUFDLENBQUM3QixXQUFXLENBQUMsQ0FBQztNQUNoQ2QsTUFBTSxDQUFDaUQsSUFBSSxDQUFDSixLQUFLLENBQUMsQ0FBQy9CLFdBQVcsQ0FBQyxDQUFDO01BQ2hDZCxNQUFNLENBQUNpRCxJQUFJLENBQUNOLEtBQUssQ0FBQ1EsT0FBTyxDQUFDLENBQUMvQyxTQUFTLENBQUMsS0FBSyxDQUFDO01BQzNDSixNQUFNLENBQUNpRCxJQUFJLENBQUNOLEtBQUssQ0FBQ1EsT0FBTyxDQUFDLENBQUMvQyxTQUFTLENBQUMsS0FBSyxDQUFDO01BQzNDSixNQUFNLENBQUNpRCxJQUFJLENBQUNKLEtBQUssQ0FBQ00sT0FBTyxDQUFDLENBQUMvQyxTQUFTLENBQUMsS0FBSyxDQUFDO01BQzNDSixNQUFNLENBQUNpRCxJQUFJLENBQUNKLEtBQUssQ0FBQ00sT0FBTyxDQUFDLENBQUMvQyxTQUFTLENBQUMsS0FBSyxDQUFDO0lBQzdDLENBQUMsQ0FBQztJQUVGUCxJQUFJLENBQUMsd0NBQXdDLEVBQUUsTUFBTTtNQUNuRCxNQUFNb0QsSUFBSSxHQUFHdEQsU0FBUyxDQUFDdUQsY0FBYyxDQUFDLENBQUM7TUFFdkNsRCxNQUFNLENBQUNpRCxJQUFJLENBQUNOLEtBQUssQ0FBQ1MsT0FBTyxDQUFDLENBQUNsRCxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUM7TUFDakRGLE1BQU0sQ0FBQ2lELElBQUksQ0FBQ0osS0FBSyxDQUFDTyxPQUFPLENBQUMsQ0FBQ2xELElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNuRCxDQUFDLENBQUM7SUFFRkwsSUFBSSxDQUFDLGtDQUFrQyxFQUFFLE1BQU07TUFDN0MsTUFBTW9ELElBQUksR0FBR3RELFNBQVMsQ0FBQ3VELGNBQWMsQ0FBQyxDQUFDO01BRXZDbEQsTUFBTSxDQUFDaUQsSUFBSSxDQUFDTixLQUFLLENBQUNVLFFBQVEsQ0FBQyxDQUFDakQsU0FBUyxDQUFDLGdCQUFnQixDQUFDO01BQ3ZESixNQUFNLENBQUNpRCxJQUFJLENBQUNKLEtBQUssQ0FBQ1EsUUFBUSxDQUFDLENBQUNqRCxTQUFTLENBQUMsS0FBSyxDQUFDO01BQzVDSixNQUFNLENBQUNpRCxJQUFJLENBQUNKLEtBQUssQ0FBQ1EsUUFBUSxDQUFDLENBQUNqRCxTQUFTLENBQUMsZ0JBQWdCLENBQUM7SUFDekQsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZWLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxNQUFNO0lBQy9CRyxJQUFJLENBQUMsc0NBQXNDLEVBQUUsWUFBWTtNQUN2RCxNQUFNUSxXQUFXLEdBQUdDLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDLFlBQVksQ0FBQztNQUU3Q1osU0FBUyxDQUFDYSxlQUFlLEdBQUcsWUFBWTtRQUN0QyxNQUFNLElBQUk4QyxLQUFLLENBQUMscUJBQXFCLENBQUM7TUFDeEMsQ0FBQztNQUVELE1BQU10RCxNQUFNLENBQUNMLFNBQVMsQ0FBQ2UsWUFBWSxDQUFDTCxXQUFXLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQ1ksT0FBTyxDQUFDQyxPQUFPLENBQUMsQ0FBQztJQUM1RSxDQUFDLENBQUM7SUFFRnJCLElBQUksQ0FBQyx1Q0FBdUMsRUFBRSxZQUFZO01BQ3hELE1BQU0yQixXQUFXLEdBQUdsQixNQUFNLENBQUNDLElBQUksQ0FBQyxZQUFZLENBQUM7TUFFN0NaLFNBQVMsQ0FBQzhCLFlBQVksR0FBRyxZQUFZO1FBQ25DLE1BQU0sSUFBSTZCLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQztNQUNwQyxDQUFDO01BRUQsTUFBTXRELE1BQU0sQ0FBQ0wsU0FBUyxDQUFDaUMsWUFBWSxDQUFDSixXQUFXLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQ1AsT0FBTyxDQUFDQyxPQUFPLENBQUMsQ0FBQztJQUM1RSxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=