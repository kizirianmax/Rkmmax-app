{"version":3,"names":["CreditCalculator","constructor","aiCosts","input","output","operationalCosts","plans","name","monthlyPrice","dailyLimits","automations","aiRequests","totalCredits","features","specialists","modes","maxFilesPerAutomation","maxLinesOfCode","gitIntegration","prCreation","marginTarget","status","operationCosts","analysis","codeGeneration","securityValidation","gitOperations","calculateAutomationCost","mode","tokensUsed","model","operationCost","aiCost","estimateAICost","totalOperational","totalCost","parseFloat","toFixed","operationalCost","breakdown","totalTokens","modelCost","inputTokens","outputTokens","inputCost","outputCost","costToCredits","costInReais","plan","creditValue","Math","ceil","calculateSellingPrice","marginPercentage","margin","sellingPrice","getPlanInfo","planName","listAllPlans","Object","entries","map","key","id","checkDailyLimit","currentUsage","valid","message","limits","limit","current","calculatePlanPrices","prices","planId","automationsPerMonth","avgTokensPerAutomation","avgModel","costPerAutomation","monthlyCost","commercialPrice","estimatedMonthlyCost","calculatedPrice","priceMatch","abs","generatePricingReport","report","generatedAt","Date","toISOString","summary","totalPlans","activeePlans","totalMonthlyRevenue","planReport","push","canUseSpecialist","specialistCount","canUseMode","includes","getRemainingCreditsToday","usedCredits","max","_default","exports","default"],"sources":["CreditCalculator.js"],"sourcesContent":["/**\n * CREDIT CALCULATOR\n * Calcula créditos, preços e margens bruta de IA\n * Regras: Básico 60% margem, Intermediário/Premium 40% margem\n * Limites rígidos por dia em planos pagos\n */\n\nclass CreditCalculator {\n  constructor() {\n    // Custos de IA por operação (em centavos de real)\n    this.aiCosts = {\n      'gemini-2.0-flash': {\n        input: 0.075,      // R$ 0,00075 por 1K tokens\n        output: 0.3,       // R$ 0,003 por 1K tokens\n      },\n      'gemini-2.5-pro': {\n        input: 1.5,        // R$ 0,015 por 1K tokens\n        output: 6.0,       // R$ 0,06 por 1K tokens\n      },\n      'groq-llama': {\n        input: 0.05,       // R$ 0,0005 por 1K tokens\n        output: 0.1,       // R$ 0,001 por 1K tokens\n      },\n    };\n\n    // Custos operacionais por operação (em centavos)\n    this.operationalCosts = {\n      'analysis': 50,           // R$ 0,50\n      'code-generation': 100,   // R$ 1,00\n      'security-validation': 30, // R$ 0,30\n      'git-operations': 20,     // R$ 0,20\n      'storage': 10,            // R$ 0,10\n    };\n\n    // Definição de planos com limites rígidos\n    this.plans = {\n      // PROJETO 100% PAGO - SEM PLANO GRATUITO\n      'basic': {\n        name: 'Plano Básico',\n        monthlyPrice: 4990,       // R$ 49,90\n        dailyLimits: {\n          automations: 5,         // 5 automações por dia\n          aiRequests: 20,         // 20 requisições de IA por dia\n          totalCredits: 50,       // 50 créditos por dia\n        },\n        features: {\n          specialists: 10,        // 10 especialistas\n          modes: ['MANUAL', 'HYBRID'],\n          maxFilesPerAutomation: 10,\n          maxLinesOfCode: 5000,\n          gitIntegration: true,\n          prCreation: false,\n        },\n        marginTarget: 60,         // 60% de margem\n        status: 'ACTIVE',\n      },\n\n      'intermediate': {\n        name: 'Plano Intermediário',\n        monthlyPrice: 9990,       // R$ 99,90\n        dailyLimits: {\n          automations: 15,        // 15 automações por dia\n          aiRequests: 60,         // 60 requisições de IA por dia\n          totalCredits: 150,      // 150 créditos por dia\n        },\n        features: {\n          specialists: 30,        // 30 especialistas\n          modes: ['MANUAL', 'HYBRID', 'OPTIMIZED'],\n          maxFilesPerAutomation: 25,\n          maxLinesOfCode: 15000,\n          gitIntegration: true,\n          prCreation: true,\n        },\n        marginTarget: 40,         // 40% de margem\n        status: 'ACTIVE',\n      },\n\n      'premium': {\n        name: 'Plano Premium',\n        monthlyPrice: 19990,      // R$ 199,90\n        dailyLimits: {\n          automations: 50,        // 50 automações por dia\n          aiRequests: 200,        // 200 requisições de IA por dia\n          totalCredits: 500,      // 500 créditos por dia\n        },\n        features: {\n          specialists: 54,        // Todos os especialistas\n          modes: ['MANUAL', 'HYBRID', 'OPTIMIZED'],\n          maxFilesPerAutomation: 100,\n          maxLinesOfCode: 50000,\n          gitIntegration: true,\n          prCreation: true,\n        },\n        marginTarget: 40,         // 40% de margem\n        status: 'ACTIVE',\n      },\n\n      'enterprise': {\n        name: 'Plano Enterprise',\n        monthlyPrice: 0,          // Customizado\n        dailyLimits: {\n          automations: -1,        // Sem limite\n          aiRequests: -1,         // Sem limite\n          totalCredits: -1,       // Sem limite\n        },\n        features: {\n          specialists: 54,        // Todos os especialistas\n          modes: ['MANUAL', 'HYBRID', 'OPTIMIZED'],\n          maxFilesPerAutomation: -1,\n          maxLinesOfCode: -1,\n          gitIntegration: true,\n          prCreation: true,\n        },\n        marginTarget: 40,\n        status: 'CUSTOM',\n      },\n    };\n\n    // Custos de IA por tipo de operação\n    this.operationCosts = {\n      'MANUAL': {\n        analysis: 0.50,           // R$ 0,50\n        codeGeneration: 1.00,     // R$ 1,00\n        securityValidation: 0.30, // R$ 0,30\n        gitOperations: 0.20,      // R$ 0,20\n      },\n      'HYBRID': {\n        analysis: 0.75,           // R$ 0,75\n        codeGeneration: 1.50,     // R$ 1,50\n        securityValidation: 0.50, // R$ 0,50\n        gitOperations: 0.30,      // R$ 0,30\n      },\n      'OPTIMIZED': {\n        analysis: 1.00,           // R$ 1,00\n        codeGeneration: 2.00,     // R$ 2,00\n        securityValidation: 0.75, // R$ 0,75\n        gitOperations: 0.50,      // R$ 0,50\n      },\n    };\n  }\n\n  /**\n   * Calcular custo total de uma automação\n   */\n  calculateAutomationCost(mode, tokensUsed = 1000, model = 'gemini-2.0-flash') {\n    const operationCost = this.operationCosts[mode] || this.operationCosts['MANUAL'];\n    \n    // Custo de IA (estimado por tokens)\n    const aiCost = this.estimateAICost(model, tokensUsed);\n    \n    // Custo operacional\n    const totalOperational = \n      operationCost.analysis +\n      operationCost.codeGeneration +\n      operationCost.securityValidation +\n      operationCost.gitOperations;\n\n    // Custo total\n    const totalCost = aiCost + totalOperational;\n\n    return {\n      mode,\n      model,\n      tokensUsed,\n      aiCost: parseFloat(aiCost.toFixed(2)),\n      operationalCost: parseFloat(totalOperational.toFixed(2)),\n      totalCost: parseFloat(totalCost.toFixed(2)),\n      breakdown: {\n        analysis: operationCost.analysis,\n        codeGeneration: operationCost.codeGeneration,\n        securityValidation: operationCost.securityValidation,\n        gitOperations: operationCost.gitOperations,\n      },\n    };\n  }\n\n  /**\n   * Estimar custo de IA por tokens\n   */\n  estimateAICost(model, totalTokens) {\n    const modelCost = this.aiCosts[model] || this.aiCosts['gemini-2.0-flash'];\n    \n    // Estimativa: 70% input, 30% output\n    const inputTokens = totalTokens * 0.7;\n    const outputTokens = totalTokens * 0.3;\n\n    const inputCost = (inputTokens / 1000) * modelCost.input;\n    const outputCost = (outputTokens / 1000) * modelCost.output;\n\n    return inputCost + outputCost;\n  }\n\n  /**\n   * Converter custo em créditos\n   */\n  costToCredits(costInReais, plan = 'basic') {\n    // 1 crédito = R$ 0,10 (base)\n    const creditValue = 0.10;\n    return Math.ceil(costInReais / creditValue);\n  }\n\n  /**\n   * Calcular preço de venda com margem\n   */\n  calculateSellingPrice(costInReais, marginPercentage) {\n    // Fórmula: Preço de Venda = Custo / (1 - Margem%)\n    const margin = marginPercentage / 100;\n    const sellingPrice = costInReais / (1 - margin);\n    \n    return parseFloat(sellingPrice.toFixed(2));\n  }\n\n  /**\n   * Obter informações de plano\n   */\n  getPlanInfo(planName) {\n    return this.plans[planName] || null;\n  }\n\n  /**\n   * Listar todos os planos\n   */\n  listAllPlans() {\n    return Object.entries(this.plans).map(([key, plan]) => ({\n      id: key,\n      ...plan,\n    }));\n  }\n\n  /**\n   * Verificar se usuário atingiu limite diário\n   */\n  checkDailyLimit(planName, currentUsage) {\n    const plan = this.plans[planName];\n    if (!plan) return { valid: false, message: 'Plano não encontrado' };\n\n    const limits = plan.dailyLimits;\n\n    // Plano básico é o mínimo\n    if (!this.plans[planName]) {\n      return { valid: true, message: 'Sem limite' };\n    }\n\n    // Verificar cada limite\n    if (limits.automations > 0 && currentUsage.automations >= limits.automations) {\n      return {\n        valid: false,\n        message: `Limite de automações diárias atingido: ${limits.automations}`,\n        limit: limits.automations,\n        current: currentUsage.automations,\n      };\n    }\n\n    if (limits.aiRequests > 0 && currentUsage.aiRequests >= limits.aiRequests) {\n      return {\n        valid: false,\n        message: `Limite de requisições de IA diárias atingido: ${limits.aiRequests}`,\n        limit: limits.aiRequests,\n        current: currentUsage.aiRequests,\n      };\n    }\n\n    if (limits.totalCredits > 0 && currentUsage.totalCredits >= limits.totalCredits) {\n      return {\n        valid: false,\n        message: `Limite de créditos diários atingido: ${limits.totalCredits}`,\n        limit: limits.totalCredits,\n        current: currentUsage.totalCredits,\n      };\n    }\n\n    return { valid: true, message: 'Dentro dos limites' };\n  }\n\n  /**\n   * Calcular preços finais para todos os planos\n   */\n  calculatePlanPrices() {\n    const prices = {};\n\n    for (const [planId, plan] of Object.entries(this.plans)) {\n      if (planId === 'enterprise') continue;\n\n      // Estimar custo mensal (assumindo 20 automações por dia)\n      const automationsPerMonth = 20 * 30; // 20 por dia, 30 dias\n      const avgTokensPerAutomation = 2000;\n      const avgModel = 'gemini-2.0-flash';\n\n      const costPerAutomation = this.calculateAutomationCost(\n        'OPTIMIZED',\n        avgTokensPerAutomation,\n        avgModel\n      );\n\n      const monthlyCost = costPerAutomation.totalCost * automationsPerMonth;\n\n      // Calcular preço de venda com margem\n      const sellingPrice = this.calculateSellingPrice(\n        monthlyCost,\n        plan.marginTarget\n      );\n\n      // Arredondar para valor comercial\n      const commercialPrice = Math.ceil(sellingPrice / 10) * 10; // Arredondar para múltiplo de 10\n\n      prices[planId] = {\n        plan: plan.name,\n        estimatedMonthlyCost: parseFloat(monthlyCost.toFixed(2)),\n        marginTarget: plan.marginTarget,\n        calculatedPrice: parseFloat(sellingPrice.toFixed(2)),\n        commercialPrice: commercialPrice,\n        monthlyPrice: plan.monthlyPrice,\n        priceMatch: Math.abs(plan.monthlyPrice - (commercialPrice * 100)) < 100,\n      };\n    }\n\n    return prices;\n  }\n\n  /**\n   * Gerar relatório de preços\n   */\n  generatePricingReport() {\n    const report = {\n      generatedAt: new Date().toISOString(),\n      plans: [],\n      summary: {\n        totalPlans: 0,\n        activeePlans: 0,\n        totalMonthlyRevenue: 0,\n      },\n    };\n\n    for (const [planId, plan] of Object.entries(this.plans)) {\n      const planReport = {\n        id: planId,\n        name: plan.name,\n        monthlyPrice: plan.monthlyPrice,\n        dailyLimits: plan.dailyLimits,\n        features: plan.features,\n        marginTarget: plan.marginTarget,\n        status: plan.status,\n      };\n\n      report.plans.push(planReport);\n      report.summary.totalPlans++;\n\n      if (plan.status === 'ACTIVE') {\n        report.summary.activeePlans++;\n        report.summary.totalMonthlyRevenue += plan.monthlyPrice;\n      }\n    }\n\n    return report;\n  }\n\n  /**\n   * Validar se especialista está disponível no plano\n   */\n  canUseSpecialist(planName, specialistCount) {\n    const plan = this.plans[planName];\n    if (!plan) return false;\n\n    return specialistCount <= plan.features.specialists;\n  }\n\n  /**\n   * Validar se modo está disponível no plano\n   */\n  canUseMode(planName, mode) {\n    const plan = this.plans[planName];\n    if (!plan) return false;\n\n    return plan.features.modes.includes(mode);\n  }\n\n  /**\n   * Obter créditos restantes do dia\n   */\n  getRemainingCreditsToday(planName, usedCredits) {\n    const plan = this.plans[planName];\n    if (!plan || plan.dailyLimits.totalCredits === -1) {\n      return -1; // Sem limite\n    }\n\n    return Math.max(0, plan.dailyLimits.totalCredits - usedCredits);\n  }\n}\n\nexport default CreditCalculator;\n"],"mappings":"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","ignoreList":[]}