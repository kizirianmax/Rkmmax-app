a3151698b70de01d2c180950294bd751
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
/**
 * CREDIT CALCULATOR
 * Calcula créditos, preços e margens bruta de IA
 * Regras: Básico 60% margem, Intermediário/Premium 40% margem
 * Limites rígidos por dia em planos pagos
 */

class CreditCalculator {
  constructor() {
    // Custos de IA por operação (em centavos de real)
    this.aiCosts = {
      'gemini-2.0-flash': {
        input: 0.075,
        // R$ 0,00075 por 1K tokens
        output: 0.3 // R$ 0,003 por 1K tokens
      },
      'gemini-2.5-pro': {
        input: 1.5,
        // R$ 0,015 por 1K tokens
        output: 6.0 // R$ 0,06 por 1K tokens
      },
      'groq-llama': {
        input: 0.05,
        // R$ 0,0005 por 1K tokens
        output: 0.1 // R$ 0,001 por 1K tokens
      }
    };

    // Custos operacionais por operação (em centavos)
    this.operationalCosts = {
      'analysis': 50,
      // R$ 0,50
      'code-generation': 100,
      // R$ 1,00
      'security-validation': 30,
      // R$ 0,30
      'git-operations': 20,
      // R$ 0,20
      'storage': 10 // R$ 0,10
    };

    // Definição de planos com limites rígidos
    this.plans = {
      // PROJETO 100% PAGO - SEM PLANO GRATUITO
      'basic': {
        name: 'Plano Básico',
        monthlyPrice: 4990,
        // R$ 49,90
        dailyLimits: {
          automations: 5,
          // 5 automações por dia
          aiRequests: 20,
          // 20 requisições de IA por dia
          totalCredits: 50 // 50 créditos por dia
        },
        features: {
          specialists: 10,
          // 10 especialistas
          modes: ['MANUAL', 'HYBRID'],
          maxFilesPerAutomation: 10,
          maxLinesOfCode: 5000,
          gitIntegration: true,
          prCreation: false
        },
        marginTarget: 60,
        // 60% de margem
        status: 'ACTIVE'
      },
      'intermediate': {
        name: 'Plano Intermediário',
        monthlyPrice: 9990,
        // R$ 99,90
        dailyLimits: {
          automations: 15,
          // 15 automações por dia
          aiRequests: 60,
          // 60 requisições de IA por dia
          totalCredits: 150 // 150 créditos por dia
        },
        features: {
          specialists: 30,
          // 30 especialistas
          modes: ['MANUAL', 'HYBRID', 'OPTIMIZED'],
          maxFilesPerAutomation: 25,
          maxLinesOfCode: 15000,
          gitIntegration: true,
          prCreation: true
        },
        marginTarget: 40,
        // 40% de margem
        status: 'ACTIVE'
      },
      'premium': {
        name: 'Plano Premium',
        monthlyPrice: 19990,
        // R$ 199,90
        dailyLimits: {
          automations: 50,
          // 50 automações por dia
          aiRequests: 200,
          // 200 requisições de IA por dia
          totalCredits: 500 // 500 créditos por dia
        },
        features: {
          specialists: 54,
          // Todos os especialistas
          modes: ['MANUAL', 'HYBRID', 'OPTIMIZED'],
          maxFilesPerAutomation: 100,
          maxLinesOfCode: 50000,
          gitIntegration: true,
          prCreation: true
        },
        marginTarget: 40,
        // 40% de margem
        status: 'ACTIVE'
      },
      'enterprise': {
        name: 'Plano Enterprise',
        monthlyPrice: 0,
        // Customizado
        dailyLimits: {
          automations: -1,
          // Sem limite
          aiRequests: -1,
          // Sem limite
          totalCredits: -1 // Sem limite
        },
        features: {
          specialists: 54,
          // Todos os especialistas
          modes: ['MANUAL', 'HYBRID', 'OPTIMIZED'],
          maxFilesPerAutomation: -1,
          maxLinesOfCode: -1,
          gitIntegration: true,
          prCreation: true
        },
        marginTarget: 40,
        status: 'CUSTOM'
      }
    };

    // Custos de IA por tipo de operação
    this.operationCosts = {
      'MANUAL': {
        analysis: 0.50,
        // R$ 0,50
        codeGeneration: 1.00,
        // R$ 1,00
        securityValidation: 0.30,
        // R$ 0,30
        gitOperations: 0.20 // R$ 0,20
      },
      'HYBRID': {
        analysis: 0.75,
        // R$ 0,75
        codeGeneration: 1.50,
        // R$ 1,50
        securityValidation: 0.50,
        // R$ 0,50
        gitOperations: 0.30 // R$ 0,30
      },
      'OPTIMIZED': {
        analysis: 1.00,
        // R$ 1,00
        codeGeneration: 2.00,
        // R$ 2,00
        securityValidation: 0.75,
        // R$ 0,75
        gitOperations: 0.50 // R$ 0,50
      }
    };
  }

  /**
   * Calcular custo total de uma automação
   */
  calculateAutomationCost(mode, tokensUsed = 1000, model = 'gemini-2.0-flash') {
    const operationCost = this.operationCosts[mode] || this.operationCosts['MANUAL'];

    // Custo de IA (estimado por tokens)
    const aiCost = this.estimateAICost(model, tokensUsed);

    // Custo operacional
    const totalOperational = operationCost.analysis + operationCost.codeGeneration + operationCost.securityValidation + operationCost.gitOperations;

    // Custo total
    const totalCost = aiCost + totalOperational;
    return {
      mode,
      model,
      tokensUsed,
      aiCost: parseFloat(aiCost.toFixed(2)),
      operationalCost: parseFloat(totalOperational.toFixed(2)),
      totalCost: parseFloat(totalCost.toFixed(2)),
      breakdown: {
        analysis: operationCost.analysis,
        codeGeneration: operationCost.codeGeneration,
        securityValidation: operationCost.securityValidation,
        gitOperations: operationCost.gitOperations
      }
    };
  }

  /**
   * Estimar custo de IA por tokens
   */
  estimateAICost(model, totalTokens) {
    const modelCost = this.aiCosts[model] || this.aiCosts['gemini-2.0-flash'];

    // Estimativa: 70% input, 30% output
    const inputTokens = totalTokens * 0.7;
    const outputTokens = totalTokens * 0.3;
    const inputCost = inputTokens / 1000 * modelCost.input;
    const outputCost = outputTokens / 1000 * modelCost.output;
    return inputCost + outputCost;
  }

  /**
   * Converter custo em créditos
   */
  costToCredits(costInReais, plan = 'basic') {
    // 1 crédito = R$ 0,10 (base)
    const creditValue = 0.10;
    return Math.ceil(costInReais / creditValue);
  }

  /**
   * Calcular preço de venda com margem
   */
  calculateSellingPrice(costInReais, marginPercentage) {
    // Fórmula: Preço de Venda = Custo / (1 - Margem%)
    const margin = marginPercentage / 100;
    const sellingPrice = costInReais / (1 - margin);
    return parseFloat(sellingPrice.toFixed(2));
  }

  /**
   * Obter informações de plano
   */
  getPlanInfo(planName) {
    return this.plans[planName] || null;
  }

  /**
   * Listar todos os planos
   */
  listAllPlans() {
    return Object.entries(this.plans).map(([key, plan]) => ({
      id: key,
      ...plan
    }));
  }

  /**
   * Verificar se usuário atingiu limite diário
   */
  checkDailyLimit(planName, currentUsage) {
    const plan = this.plans[planName];
    if (!plan) return {
      valid: false,
      message: 'Plano não encontrado'
    };
    const limits = plan.dailyLimits;

    // Plano básico é o mínimo
    if (!this.plans[planName]) {
      return {
        valid: true,
        message: 'Sem limite'
      };
    }

    // Verificar cada limite
    if (limits.automations > 0 && currentUsage.automations >= limits.automations) {
      return {
        valid: false,
        message: `Limite de automações diárias atingido: ${limits.automations}`,
        limit: limits.automations,
        current: currentUsage.automations
      };
    }
    if (limits.aiRequests > 0 && currentUsage.aiRequests >= limits.aiRequests) {
      return {
        valid: false,
        message: `Limite de requisições de IA diárias atingido: ${limits.aiRequests}`,
        limit: limits.aiRequests,
        current: currentUsage.aiRequests
      };
    }
    if (limits.totalCredits > 0 && currentUsage.totalCredits >= limits.totalCredits) {
      return {
        valid: false,
        message: `Limite de créditos diários atingido: ${limits.totalCredits}`,
        limit: limits.totalCredits,
        current: currentUsage.totalCredits
      };
    }
    return {
      valid: true,
      message: 'Dentro dos limites'
    };
  }

  /**
   * Calcular preços finais para todos os planos
   */
  calculatePlanPrices() {
    const prices = {};
    for (const [planId, plan] of Object.entries(this.plans)) {
      if (planId === 'enterprise') continue;

      // Estimar custo mensal (assumindo 20 automações por dia)
      const automationsPerMonth = 20 * 30; // 20 por dia, 30 dias
      const avgTokensPerAutomation = 2000;
      const avgModel = 'gemini-2.0-flash';
      const costPerAutomation = this.calculateAutomationCost('OPTIMIZED', avgTokensPerAutomation, avgModel);
      const monthlyCost = costPerAutomation.totalCost * automationsPerMonth;

      // Calcular preço de venda com margem
      const sellingPrice = this.calculateSellingPrice(monthlyCost, plan.marginTarget);

      // Arredondar para valor comercial
      const commercialPrice = Math.ceil(sellingPrice / 10) * 10; // Arredondar para múltiplo de 10

      prices[planId] = {
        plan: plan.name,
        estimatedMonthlyCost: parseFloat(monthlyCost.toFixed(2)),
        marginTarget: plan.marginTarget,
        calculatedPrice: parseFloat(sellingPrice.toFixed(2)),
        commercialPrice: commercialPrice,
        monthlyPrice: plan.monthlyPrice,
        priceMatch: Math.abs(plan.monthlyPrice - commercialPrice * 100) < 100
      };
    }
    return prices;
  }

  /**
   * Gerar relatório de preços
   */
  generatePricingReport() {
    const report = {
      generatedAt: new Date().toISOString(),
      plans: [],
      summary: {
        totalPlans: 0,
        activeePlans: 0,
        totalMonthlyRevenue: 0
      }
    };
    for (const [planId, plan] of Object.entries(this.plans)) {
      const planReport = {
        id: planId,
        name: plan.name,
        monthlyPrice: plan.monthlyPrice,
        dailyLimits: plan.dailyLimits,
        features: plan.features,
        marginTarget: plan.marginTarget,
        status: plan.status
      };
      report.plans.push(planReport);
      report.summary.totalPlans++;
      if (plan.status === 'ACTIVE') {
        report.summary.activeePlans++;
        report.summary.totalMonthlyRevenue += plan.monthlyPrice;
      }
    }
    return report;
  }

  /**
   * Validar se especialista está disponível no plano
   */
  canUseSpecialist(planName, specialistCount) {
    const plan = this.plans[planName];
    if (!plan) return false;
    return specialistCount <= plan.features.specialists;
  }

  /**
   * Validar se modo está disponível no plano
   */
  canUseMode(planName, mode) {
    const plan = this.plans[planName];
    if (!plan) return false;
    return plan.features.modes.includes(mode);
  }

  /**
   * Obter créditos restantes do dia
   */
  getRemainingCreditsToday(planName, usedCredits) {
    const plan = this.plans[planName];
    if (!plan || plan.dailyLimits.totalCredits === -1) {
      return -1; // Sem limite
    }
    return Math.max(0, plan.dailyLimits.totalCredits - usedCredits);
  }
}
var _default = exports.default = CreditCalculator;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDcmVkaXRDYWxjdWxhdG9yIiwiY29uc3RydWN0b3IiLCJhaUNvc3RzIiwiaW5wdXQiLCJvdXRwdXQiLCJvcGVyYXRpb25hbENvc3RzIiwicGxhbnMiLCJuYW1lIiwibW9udGhseVByaWNlIiwiZGFpbHlMaW1pdHMiLCJhdXRvbWF0aW9ucyIsImFpUmVxdWVzdHMiLCJ0b3RhbENyZWRpdHMiLCJmZWF0dXJlcyIsInNwZWNpYWxpc3RzIiwibW9kZXMiLCJtYXhGaWxlc1BlckF1dG9tYXRpb24iLCJtYXhMaW5lc09mQ29kZSIsImdpdEludGVncmF0aW9uIiwicHJDcmVhdGlvbiIsIm1hcmdpblRhcmdldCIsInN0YXR1cyIsIm9wZXJhdGlvbkNvc3RzIiwiYW5hbHlzaXMiLCJjb2RlR2VuZXJhdGlvbiIsInNlY3VyaXR5VmFsaWRhdGlvbiIsImdpdE9wZXJhdGlvbnMiLCJjYWxjdWxhdGVBdXRvbWF0aW9uQ29zdCIsIm1vZGUiLCJ0b2tlbnNVc2VkIiwibW9kZWwiLCJvcGVyYXRpb25Db3N0IiwiYWlDb3N0IiwiZXN0aW1hdGVBSUNvc3QiLCJ0b3RhbE9wZXJhdGlvbmFsIiwidG90YWxDb3N0IiwicGFyc2VGbG9hdCIsInRvRml4ZWQiLCJvcGVyYXRpb25hbENvc3QiLCJicmVha2Rvd24iLCJ0b3RhbFRva2VucyIsIm1vZGVsQ29zdCIsImlucHV0VG9rZW5zIiwib3V0cHV0VG9rZW5zIiwiaW5wdXRDb3N0Iiwib3V0cHV0Q29zdCIsImNvc3RUb0NyZWRpdHMiLCJjb3N0SW5SZWFpcyIsInBsYW4iLCJjcmVkaXRWYWx1ZSIsIk1hdGgiLCJjZWlsIiwiY2FsY3VsYXRlU2VsbGluZ1ByaWNlIiwibWFyZ2luUGVyY2VudGFnZSIsIm1hcmdpbiIsInNlbGxpbmdQcmljZSIsImdldFBsYW5JbmZvIiwicGxhbk5hbWUiLCJsaXN0QWxsUGxhbnMiLCJPYmplY3QiLCJlbnRyaWVzIiwibWFwIiwia2V5IiwiaWQiLCJjaGVja0RhaWx5TGltaXQiLCJjdXJyZW50VXNhZ2UiLCJ2YWxpZCIsIm1lc3NhZ2UiLCJsaW1pdHMiLCJsaW1pdCIsImN1cnJlbnQiLCJjYWxjdWxhdGVQbGFuUHJpY2VzIiwicHJpY2VzIiwicGxhbklkIiwiYXV0b21hdGlvbnNQZXJNb250aCIsImF2Z1Rva2Vuc1BlckF1dG9tYXRpb24iLCJhdmdNb2RlbCIsImNvc3RQZXJBdXRvbWF0aW9uIiwibW9udGhseUNvc3QiLCJjb21tZXJjaWFsUHJpY2UiLCJlc3RpbWF0ZWRNb250aGx5Q29zdCIsImNhbGN1bGF0ZWRQcmljZSIsInByaWNlTWF0Y2giLCJhYnMiLCJnZW5lcmF0ZVByaWNpbmdSZXBvcnQiLCJyZXBvcnQiLCJnZW5lcmF0ZWRBdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInN1bW1hcnkiLCJ0b3RhbFBsYW5zIiwiYWN0aXZlZVBsYW5zIiwidG90YWxNb250aGx5UmV2ZW51ZSIsInBsYW5SZXBvcnQiLCJwdXNoIiwiY2FuVXNlU3BlY2lhbGlzdCIsInNwZWNpYWxpc3RDb3VudCIsImNhblVzZU1vZGUiLCJpbmNsdWRlcyIsImdldFJlbWFpbmluZ0NyZWRpdHNUb2RheSIsInVzZWRDcmVkaXRzIiwibWF4IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZGVmYXVsdCJdLCJzb3VyY2VzIjpbIkNyZWRpdENhbGN1bGF0b3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDUkVESVQgQ0FMQ1VMQVRPUlxuICogQ2FsY3VsYSBjcsOpZGl0b3MsIHByZcOnb3MgZSBtYXJnZW5zIGJydXRhIGRlIElBXG4gKiBSZWdyYXM6IELDoXNpY28gNjAlIG1hcmdlbSwgSW50ZXJtZWRpw6FyaW8vUHJlbWl1bSA0MCUgbWFyZ2VtXG4gKiBMaW1pdGVzIHLDrWdpZG9zIHBvciBkaWEgZW0gcGxhbm9zIHBhZ29zXG4gKi9cblxuY2xhc3MgQ3JlZGl0Q2FsY3VsYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIEN1c3RvcyBkZSBJQSBwb3Igb3BlcmHDp8OjbyAoZW0gY2VudGF2b3MgZGUgcmVhbClcbiAgICB0aGlzLmFpQ29zdHMgPSB7XG4gICAgICAnZ2VtaW5pLTIuMC1mbGFzaCc6IHtcbiAgICAgICAgaW5wdXQ6IDAuMDc1LCAgICAgIC8vIFIkIDAsMDAwNzUgcG9yIDFLIHRva2Vuc1xuICAgICAgICBvdXRwdXQ6IDAuMywgICAgICAgLy8gUiQgMCwwMDMgcG9yIDFLIHRva2Vuc1xuICAgICAgfSxcbiAgICAgICdnZW1pbmktMi41LXBybyc6IHtcbiAgICAgICAgaW5wdXQ6IDEuNSwgICAgICAgIC8vIFIkIDAsMDE1IHBvciAxSyB0b2tlbnNcbiAgICAgICAgb3V0cHV0OiA2LjAsICAgICAgIC8vIFIkIDAsMDYgcG9yIDFLIHRva2Vuc1xuICAgICAgfSxcbiAgICAgICdncm9xLWxsYW1hJzoge1xuICAgICAgICBpbnB1dDogMC4wNSwgICAgICAgLy8gUiQgMCwwMDA1IHBvciAxSyB0b2tlbnNcbiAgICAgICAgb3V0cHV0OiAwLjEsICAgICAgIC8vIFIkIDAsMDAxIHBvciAxSyB0b2tlbnNcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIC8vIEN1c3RvcyBvcGVyYWNpb25haXMgcG9yIG9wZXJhw6fDo28gKGVtIGNlbnRhdm9zKVxuICAgIHRoaXMub3BlcmF0aW9uYWxDb3N0cyA9IHtcbiAgICAgICdhbmFseXNpcyc6IDUwLCAgICAgICAgICAgLy8gUiQgMCw1MFxuICAgICAgJ2NvZGUtZ2VuZXJhdGlvbic6IDEwMCwgICAvLyBSJCAxLDAwXG4gICAgICAnc2VjdXJpdHktdmFsaWRhdGlvbic6IDMwLCAvLyBSJCAwLDMwXG4gICAgICAnZ2l0LW9wZXJhdGlvbnMnOiAyMCwgICAgIC8vIFIkIDAsMjBcbiAgICAgICdzdG9yYWdlJzogMTAsICAgICAgICAgICAgLy8gUiQgMCwxMFxuICAgIH07XG5cbiAgICAvLyBEZWZpbmnDp8OjbyBkZSBwbGFub3MgY29tIGxpbWl0ZXMgcsOtZ2lkb3NcbiAgICB0aGlzLnBsYW5zID0ge1xuICAgICAgLy8gUFJPSkVUTyAxMDAlIFBBR08gLSBTRU0gUExBTk8gR1JBVFVJVE9cbiAgICAgICdiYXNpYyc6IHtcbiAgICAgICAgbmFtZTogJ1BsYW5vIELDoXNpY28nLFxuICAgICAgICBtb250aGx5UHJpY2U6IDQ5OTAsICAgICAgIC8vIFIkIDQ5LDkwXG4gICAgICAgIGRhaWx5TGltaXRzOiB7XG4gICAgICAgICAgYXV0b21hdGlvbnM6IDUsICAgICAgICAgLy8gNSBhdXRvbWHDp8O1ZXMgcG9yIGRpYVxuICAgICAgICAgIGFpUmVxdWVzdHM6IDIwLCAgICAgICAgIC8vIDIwIHJlcXVpc2nDp8O1ZXMgZGUgSUEgcG9yIGRpYVxuICAgICAgICAgIHRvdGFsQ3JlZGl0czogNTAsICAgICAgIC8vIDUwIGNyw6lkaXRvcyBwb3IgZGlhXG4gICAgICAgIH0sXG4gICAgICAgIGZlYXR1cmVzOiB7XG4gICAgICAgICAgc3BlY2lhbGlzdHM6IDEwLCAgICAgICAgLy8gMTAgZXNwZWNpYWxpc3Rhc1xuICAgICAgICAgIG1vZGVzOiBbJ01BTlVBTCcsICdIWUJSSUQnXSxcbiAgICAgICAgICBtYXhGaWxlc1BlckF1dG9tYXRpb246IDEwLFxuICAgICAgICAgIG1heExpbmVzT2ZDb2RlOiA1MDAwLFxuICAgICAgICAgIGdpdEludGVncmF0aW9uOiB0cnVlLFxuICAgICAgICAgIHByQ3JlYXRpb246IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICBtYXJnaW5UYXJnZXQ6IDYwLCAgICAgICAgIC8vIDYwJSBkZSBtYXJnZW1cbiAgICAgICAgc3RhdHVzOiAnQUNUSVZFJyxcbiAgICAgIH0sXG5cbiAgICAgICdpbnRlcm1lZGlhdGUnOiB7XG4gICAgICAgIG5hbWU6ICdQbGFubyBJbnRlcm1lZGnDoXJpbycsXG4gICAgICAgIG1vbnRobHlQcmljZTogOTk5MCwgICAgICAgLy8gUiQgOTksOTBcbiAgICAgICAgZGFpbHlMaW1pdHM6IHtcbiAgICAgICAgICBhdXRvbWF0aW9uczogMTUsICAgICAgICAvLyAxNSBhdXRvbWHDp8O1ZXMgcG9yIGRpYVxuICAgICAgICAgIGFpUmVxdWVzdHM6IDYwLCAgICAgICAgIC8vIDYwIHJlcXVpc2nDp8O1ZXMgZGUgSUEgcG9yIGRpYVxuICAgICAgICAgIHRvdGFsQ3JlZGl0czogMTUwLCAgICAgIC8vIDE1MCBjcsOpZGl0b3MgcG9yIGRpYVxuICAgICAgICB9LFxuICAgICAgICBmZWF0dXJlczoge1xuICAgICAgICAgIHNwZWNpYWxpc3RzOiAzMCwgICAgICAgIC8vIDMwIGVzcGVjaWFsaXN0YXNcbiAgICAgICAgICBtb2RlczogWydNQU5VQUwnLCAnSFlCUklEJywgJ09QVElNSVpFRCddLFxuICAgICAgICAgIG1heEZpbGVzUGVyQXV0b21hdGlvbjogMjUsXG4gICAgICAgICAgbWF4TGluZXNPZkNvZGU6IDE1MDAwLFxuICAgICAgICAgIGdpdEludGVncmF0aW9uOiB0cnVlLFxuICAgICAgICAgIHByQ3JlYXRpb246IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIG1hcmdpblRhcmdldDogNDAsICAgICAgICAgLy8gNDAlIGRlIG1hcmdlbVxuICAgICAgICBzdGF0dXM6ICdBQ1RJVkUnLFxuICAgICAgfSxcblxuICAgICAgJ3ByZW1pdW0nOiB7XG4gICAgICAgIG5hbWU6ICdQbGFubyBQcmVtaXVtJyxcbiAgICAgICAgbW9udGhseVByaWNlOiAxOTk5MCwgICAgICAvLyBSJCAxOTksOTBcbiAgICAgICAgZGFpbHlMaW1pdHM6IHtcbiAgICAgICAgICBhdXRvbWF0aW9uczogNTAsICAgICAgICAvLyA1MCBhdXRvbWHDp8O1ZXMgcG9yIGRpYVxuICAgICAgICAgIGFpUmVxdWVzdHM6IDIwMCwgICAgICAgIC8vIDIwMCByZXF1aXNpw6fDtWVzIGRlIElBIHBvciBkaWFcbiAgICAgICAgICB0b3RhbENyZWRpdHM6IDUwMCwgICAgICAvLyA1MDAgY3LDqWRpdG9zIHBvciBkaWFcbiAgICAgICAgfSxcbiAgICAgICAgZmVhdHVyZXM6IHtcbiAgICAgICAgICBzcGVjaWFsaXN0czogNTQsICAgICAgICAvLyBUb2RvcyBvcyBlc3BlY2lhbGlzdGFzXG4gICAgICAgICAgbW9kZXM6IFsnTUFOVUFMJywgJ0hZQlJJRCcsICdPUFRJTUlaRUQnXSxcbiAgICAgICAgICBtYXhGaWxlc1BlckF1dG9tYXRpb246IDEwMCxcbiAgICAgICAgICBtYXhMaW5lc09mQ29kZTogNTAwMDAsXG4gICAgICAgICAgZ2l0SW50ZWdyYXRpb246IHRydWUsXG4gICAgICAgICAgcHJDcmVhdGlvbjogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgbWFyZ2luVGFyZ2V0OiA0MCwgICAgICAgICAvLyA0MCUgZGUgbWFyZ2VtXG4gICAgICAgIHN0YXR1czogJ0FDVElWRScsXG4gICAgICB9LFxuXG4gICAgICAnZW50ZXJwcmlzZSc6IHtcbiAgICAgICAgbmFtZTogJ1BsYW5vIEVudGVycHJpc2UnLFxuICAgICAgICBtb250aGx5UHJpY2U6IDAsICAgICAgICAgIC8vIEN1c3RvbWl6YWRvXG4gICAgICAgIGRhaWx5TGltaXRzOiB7XG4gICAgICAgICAgYXV0b21hdGlvbnM6IC0xLCAgICAgICAgLy8gU2VtIGxpbWl0ZVxuICAgICAgICAgIGFpUmVxdWVzdHM6IC0xLCAgICAgICAgIC8vIFNlbSBsaW1pdGVcbiAgICAgICAgICB0b3RhbENyZWRpdHM6IC0xLCAgICAgICAvLyBTZW0gbGltaXRlXG4gICAgICAgIH0sXG4gICAgICAgIGZlYXR1cmVzOiB7XG4gICAgICAgICAgc3BlY2lhbGlzdHM6IDU0LCAgICAgICAgLy8gVG9kb3Mgb3MgZXNwZWNpYWxpc3Rhc1xuICAgICAgICAgIG1vZGVzOiBbJ01BTlVBTCcsICdIWUJSSUQnLCAnT1BUSU1JWkVEJ10sXG4gICAgICAgICAgbWF4RmlsZXNQZXJBdXRvbWF0aW9uOiAtMSxcbiAgICAgICAgICBtYXhMaW5lc09mQ29kZTogLTEsXG4gICAgICAgICAgZ2l0SW50ZWdyYXRpb246IHRydWUsXG4gICAgICAgICAgcHJDcmVhdGlvbjogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgbWFyZ2luVGFyZ2V0OiA0MCxcbiAgICAgICAgc3RhdHVzOiAnQ1VTVE9NJyxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIC8vIEN1c3RvcyBkZSBJQSBwb3IgdGlwbyBkZSBvcGVyYcOnw6NvXG4gICAgdGhpcy5vcGVyYXRpb25Db3N0cyA9IHtcbiAgICAgICdNQU5VQUwnOiB7XG4gICAgICAgIGFuYWx5c2lzOiAwLjUwLCAgICAgICAgICAgLy8gUiQgMCw1MFxuICAgICAgICBjb2RlR2VuZXJhdGlvbjogMS4wMCwgICAgIC8vIFIkIDEsMDBcbiAgICAgICAgc2VjdXJpdHlWYWxpZGF0aW9uOiAwLjMwLCAvLyBSJCAwLDMwXG4gICAgICAgIGdpdE9wZXJhdGlvbnM6IDAuMjAsICAgICAgLy8gUiQgMCwyMFxuICAgICAgfSxcbiAgICAgICdIWUJSSUQnOiB7XG4gICAgICAgIGFuYWx5c2lzOiAwLjc1LCAgICAgICAgICAgLy8gUiQgMCw3NVxuICAgICAgICBjb2RlR2VuZXJhdGlvbjogMS41MCwgICAgIC8vIFIkIDEsNTBcbiAgICAgICAgc2VjdXJpdHlWYWxpZGF0aW9uOiAwLjUwLCAvLyBSJCAwLDUwXG4gICAgICAgIGdpdE9wZXJhdGlvbnM6IDAuMzAsICAgICAgLy8gUiQgMCwzMFxuICAgICAgfSxcbiAgICAgICdPUFRJTUlaRUQnOiB7XG4gICAgICAgIGFuYWx5c2lzOiAxLjAwLCAgICAgICAgICAgLy8gUiQgMSwwMFxuICAgICAgICBjb2RlR2VuZXJhdGlvbjogMi4wMCwgICAgIC8vIFIkIDIsMDBcbiAgICAgICAgc2VjdXJpdHlWYWxpZGF0aW9uOiAwLjc1LCAvLyBSJCAwLDc1XG4gICAgICAgIGdpdE9wZXJhdGlvbnM6IDAuNTAsICAgICAgLy8gUiQgMCw1MFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGFyIGN1c3RvIHRvdGFsIGRlIHVtYSBhdXRvbWHDp8Ojb1xuICAgKi9cbiAgY2FsY3VsYXRlQXV0b21hdGlvbkNvc3QobW9kZSwgdG9rZW5zVXNlZCA9IDEwMDAsIG1vZGVsID0gJ2dlbWluaS0yLjAtZmxhc2gnKSB7XG4gICAgY29uc3Qgb3BlcmF0aW9uQ29zdCA9IHRoaXMub3BlcmF0aW9uQ29zdHNbbW9kZV0gfHwgdGhpcy5vcGVyYXRpb25Db3N0c1snTUFOVUFMJ107XG4gICAgXG4gICAgLy8gQ3VzdG8gZGUgSUEgKGVzdGltYWRvIHBvciB0b2tlbnMpXG4gICAgY29uc3QgYWlDb3N0ID0gdGhpcy5lc3RpbWF0ZUFJQ29zdChtb2RlbCwgdG9rZW5zVXNlZCk7XG4gICAgXG4gICAgLy8gQ3VzdG8gb3BlcmFjaW9uYWxcbiAgICBjb25zdCB0b3RhbE9wZXJhdGlvbmFsID0gXG4gICAgICBvcGVyYXRpb25Db3N0LmFuYWx5c2lzICtcbiAgICAgIG9wZXJhdGlvbkNvc3QuY29kZUdlbmVyYXRpb24gK1xuICAgICAgb3BlcmF0aW9uQ29zdC5zZWN1cml0eVZhbGlkYXRpb24gK1xuICAgICAgb3BlcmF0aW9uQ29zdC5naXRPcGVyYXRpb25zO1xuXG4gICAgLy8gQ3VzdG8gdG90YWxcbiAgICBjb25zdCB0b3RhbENvc3QgPSBhaUNvc3QgKyB0b3RhbE9wZXJhdGlvbmFsO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIG1vZGUsXG4gICAgICBtb2RlbCxcbiAgICAgIHRva2Vuc1VzZWQsXG4gICAgICBhaUNvc3Q6IHBhcnNlRmxvYXQoYWlDb3N0LnRvRml4ZWQoMikpLFxuICAgICAgb3BlcmF0aW9uYWxDb3N0OiBwYXJzZUZsb2F0KHRvdGFsT3BlcmF0aW9uYWwudG9GaXhlZCgyKSksXG4gICAgICB0b3RhbENvc3Q6IHBhcnNlRmxvYXQodG90YWxDb3N0LnRvRml4ZWQoMikpLFxuICAgICAgYnJlYWtkb3duOiB7XG4gICAgICAgIGFuYWx5c2lzOiBvcGVyYXRpb25Db3N0LmFuYWx5c2lzLFxuICAgICAgICBjb2RlR2VuZXJhdGlvbjogb3BlcmF0aW9uQ29zdC5jb2RlR2VuZXJhdGlvbixcbiAgICAgICAgc2VjdXJpdHlWYWxpZGF0aW9uOiBvcGVyYXRpb25Db3N0LnNlY3VyaXR5VmFsaWRhdGlvbixcbiAgICAgICAgZ2l0T3BlcmF0aW9uczogb3BlcmF0aW9uQ29zdC5naXRPcGVyYXRpb25zLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEVzdGltYXIgY3VzdG8gZGUgSUEgcG9yIHRva2Vuc1xuICAgKi9cbiAgZXN0aW1hdGVBSUNvc3QobW9kZWwsIHRvdGFsVG9rZW5zKSB7XG4gICAgY29uc3QgbW9kZWxDb3N0ID0gdGhpcy5haUNvc3RzW21vZGVsXSB8fCB0aGlzLmFpQ29zdHNbJ2dlbWluaS0yLjAtZmxhc2gnXTtcbiAgICBcbiAgICAvLyBFc3RpbWF0aXZhOiA3MCUgaW5wdXQsIDMwJSBvdXRwdXRcbiAgICBjb25zdCBpbnB1dFRva2VucyA9IHRvdGFsVG9rZW5zICogMC43O1xuICAgIGNvbnN0IG91dHB1dFRva2VucyA9IHRvdGFsVG9rZW5zICogMC4zO1xuXG4gICAgY29uc3QgaW5wdXRDb3N0ID0gKGlucHV0VG9rZW5zIC8gMTAwMCkgKiBtb2RlbENvc3QuaW5wdXQ7XG4gICAgY29uc3Qgb3V0cHV0Q29zdCA9IChvdXRwdXRUb2tlbnMgLyAxMDAwKSAqIG1vZGVsQ29zdC5vdXRwdXQ7XG5cbiAgICByZXR1cm4gaW5wdXRDb3N0ICsgb3V0cHV0Q29zdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0ZXIgY3VzdG8gZW0gY3LDqWRpdG9zXG4gICAqL1xuICBjb3N0VG9DcmVkaXRzKGNvc3RJblJlYWlzLCBwbGFuID0gJ2Jhc2ljJykge1xuICAgIC8vIDEgY3LDqWRpdG8gPSBSJCAwLDEwIChiYXNlKVxuICAgIGNvbnN0IGNyZWRpdFZhbHVlID0gMC4xMDtcbiAgICByZXR1cm4gTWF0aC5jZWlsKGNvc3RJblJlYWlzIC8gY3JlZGl0VmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGFyIHByZcOnbyBkZSB2ZW5kYSBjb20gbWFyZ2VtXG4gICAqL1xuICBjYWxjdWxhdGVTZWxsaW5nUHJpY2UoY29zdEluUmVhaXMsIG1hcmdpblBlcmNlbnRhZ2UpIHtcbiAgICAvLyBGw7NybXVsYTogUHJlw6dvIGRlIFZlbmRhID0gQ3VzdG8gLyAoMSAtIE1hcmdlbSUpXG4gICAgY29uc3QgbWFyZ2luID0gbWFyZ2luUGVyY2VudGFnZSAvIDEwMDtcbiAgICBjb25zdCBzZWxsaW5nUHJpY2UgPSBjb3N0SW5SZWFpcyAvICgxIC0gbWFyZ2luKTtcbiAgICBcbiAgICByZXR1cm4gcGFyc2VGbG9hdChzZWxsaW5nUHJpY2UudG9GaXhlZCgyKSk7XG4gIH1cblxuICAvKipcbiAgICogT2J0ZXIgaW5mb3JtYcOnw7VlcyBkZSBwbGFub1xuICAgKi9cbiAgZ2V0UGxhbkluZm8ocGxhbk5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5wbGFuc1twbGFuTmFtZV0gfHwgbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0YXIgdG9kb3Mgb3MgcGxhbm9zXG4gICAqL1xuICBsaXN0QWxsUGxhbnMoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMucGxhbnMpLm1hcCgoW2tleSwgcGxhbl0pID0+ICh7XG4gICAgICBpZDoga2V5LFxuICAgICAgLi4ucGxhbixcbiAgICB9KSk7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2FyIHNlIHVzdcOhcmlvIGF0aW5naXUgbGltaXRlIGRpw6FyaW9cbiAgICovXG4gIGNoZWNrRGFpbHlMaW1pdChwbGFuTmFtZSwgY3VycmVudFVzYWdlKSB7XG4gICAgY29uc3QgcGxhbiA9IHRoaXMucGxhbnNbcGxhbk5hbWVdO1xuICAgIGlmICghcGxhbikgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBtZXNzYWdlOiAnUGxhbm8gbsOjbyBlbmNvbnRyYWRvJyB9O1xuXG4gICAgY29uc3QgbGltaXRzID0gcGxhbi5kYWlseUxpbWl0cztcblxuICAgIC8vIFBsYW5vIGLDoXNpY28gw6kgbyBtw61uaW1vXG4gICAgaWYgKCF0aGlzLnBsYW5zW3BsYW5OYW1lXSkge1xuICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIG1lc3NhZ2U6ICdTZW0gbGltaXRlJyB9O1xuICAgIH1cblxuICAgIC8vIFZlcmlmaWNhciBjYWRhIGxpbWl0ZVxuICAgIGlmIChsaW1pdHMuYXV0b21hdGlvbnMgPiAwICYmIGN1cnJlbnRVc2FnZS5hdXRvbWF0aW9ucyA+PSBsaW1pdHMuYXV0b21hdGlvbnMpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbGlkOiBmYWxzZSxcbiAgICAgICAgbWVzc2FnZTogYExpbWl0ZSBkZSBhdXRvbWHDp8O1ZXMgZGnDoXJpYXMgYXRpbmdpZG86ICR7bGltaXRzLmF1dG9tYXRpb25zfWAsXG4gICAgICAgIGxpbWl0OiBsaW1pdHMuYXV0b21hdGlvbnMsXG4gICAgICAgIGN1cnJlbnQ6IGN1cnJlbnRVc2FnZS5hdXRvbWF0aW9ucyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKGxpbWl0cy5haVJlcXVlc3RzID4gMCAmJiBjdXJyZW50VXNhZ2UuYWlSZXF1ZXN0cyA+PSBsaW1pdHMuYWlSZXF1ZXN0cykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiBgTGltaXRlIGRlIHJlcXVpc2nDp8O1ZXMgZGUgSUEgZGnDoXJpYXMgYXRpbmdpZG86ICR7bGltaXRzLmFpUmVxdWVzdHN9YCxcbiAgICAgICAgbGltaXQ6IGxpbWl0cy5haVJlcXVlc3RzLFxuICAgICAgICBjdXJyZW50OiBjdXJyZW50VXNhZ2UuYWlSZXF1ZXN0cyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKGxpbWl0cy50b3RhbENyZWRpdHMgPiAwICYmIGN1cnJlbnRVc2FnZS50b3RhbENyZWRpdHMgPj0gbGltaXRzLnRvdGFsQ3JlZGl0cykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiBgTGltaXRlIGRlIGNyw6lkaXRvcyBkacOhcmlvcyBhdGluZ2lkbzogJHtsaW1pdHMudG90YWxDcmVkaXRzfWAsXG4gICAgICAgIGxpbWl0OiBsaW1pdHMudG90YWxDcmVkaXRzLFxuICAgICAgICBjdXJyZW50OiBjdXJyZW50VXNhZ2UudG90YWxDcmVkaXRzLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgbWVzc2FnZTogJ0RlbnRybyBkb3MgbGltaXRlcycgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhciBwcmXDp29zIGZpbmFpcyBwYXJhIHRvZG9zIG9zIHBsYW5vc1xuICAgKi9cbiAgY2FsY3VsYXRlUGxhblByaWNlcygpIHtcbiAgICBjb25zdCBwcmljZXMgPSB7fTtcblxuICAgIGZvciAoY29uc3QgW3BsYW5JZCwgcGxhbl0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5wbGFucykpIHtcbiAgICAgIGlmIChwbGFuSWQgPT09ICdlbnRlcnByaXNlJykgY29udGludWU7XG5cbiAgICAgIC8vIEVzdGltYXIgY3VzdG8gbWVuc2FsIChhc3N1bWluZG8gMjAgYXV0b21hw6fDtWVzIHBvciBkaWEpXG4gICAgICBjb25zdCBhdXRvbWF0aW9uc1Blck1vbnRoID0gMjAgKiAzMDsgLy8gMjAgcG9yIGRpYSwgMzAgZGlhc1xuICAgICAgY29uc3QgYXZnVG9rZW5zUGVyQXV0b21hdGlvbiA9IDIwMDA7XG4gICAgICBjb25zdCBhdmdNb2RlbCA9ICdnZW1pbmktMi4wLWZsYXNoJztcblxuICAgICAgY29uc3QgY29zdFBlckF1dG9tYXRpb24gPSB0aGlzLmNhbGN1bGF0ZUF1dG9tYXRpb25Db3N0KFxuICAgICAgICAnT1BUSU1JWkVEJyxcbiAgICAgICAgYXZnVG9rZW5zUGVyQXV0b21hdGlvbixcbiAgICAgICAgYXZnTW9kZWxcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IG1vbnRobHlDb3N0ID0gY29zdFBlckF1dG9tYXRpb24udG90YWxDb3N0ICogYXV0b21hdGlvbnNQZXJNb250aDtcblxuICAgICAgLy8gQ2FsY3VsYXIgcHJlw6dvIGRlIHZlbmRhIGNvbSBtYXJnZW1cbiAgICAgIGNvbnN0IHNlbGxpbmdQcmljZSA9IHRoaXMuY2FsY3VsYXRlU2VsbGluZ1ByaWNlKFxuICAgICAgICBtb250aGx5Q29zdCxcbiAgICAgICAgcGxhbi5tYXJnaW5UYXJnZXRcbiAgICAgICk7XG5cbiAgICAgIC8vIEFycmVkb25kYXIgcGFyYSB2YWxvciBjb21lcmNpYWxcbiAgICAgIGNvbnN0IGNvbW1lcmNpYWxQcmljZSA9IE1hdGguY2VpbChzZWxsaW5nUHJpY2UgLyAxMCkgKiAxMDsgLy8gQXJyZWRvbmRhciBwYXJhIG3Dumx0aXBsbyBkZSAxMFxuXG4gICAgICBwcmljZXNbcGxhbklkXSA9IHtcbiAgICAgICAgcGxhbjogcGxhbi5uYW1lLFxuICAgICAgICBlc3RpbWF0ZWRNb250aGx5Q29zdDogcGFyc2VGbG9hdChtb250aGx5Q29zdC50b0ZpeGVkKDIpKSxcbiAgICAgICAgbWFyZ2luVGFyZ2V0OiBwbGFuLm1hcmdpblRhcmdldCxcbiAgICAgICAgY2FsY3VsYXRlZFByaWNlOiBwYXJzZUZsb2F0KHNlbGxpbmdQcmljZS50b0ZpeGVkKDIpKSxcbiAgICAgICAgY29tbWVyY2lhbFByaWNlOiBjb21tZXJjaWFsUHJpY2UsXG4gICAgICAgIG1vbnRobHlQcmljZTogcGxhbi5tb250aGx5UHJpY2UsXG4gICAgICAgIHByaWNlTWF0Y2g6IE1hdGguYWJzKHBsYW4ubW9udGhseVByaWNlIC0gKGNvbW1lcmNpYWxQcmljZSAqIDEwMCkpIDwgMTAwLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJpY2VzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlcmFyIHJlbGF0w7NyaW8gZGUgcHJlw6dvc1xuICAgKi9cbiAgZ2VuZXJhdGVQcmljaW5nUmVwb3J0KCkge1xuICAgIGNvbnN0IHJlcG9ydCA9IHtcbiAgICAgIGdlbmVyYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBwbGFuczogW10sXG4gICAgICBzdW1tYXJ5OiB7XG4gICAgICAgIHRvdGFsUGxhbnM6IDAsXG4gICAgICAgIGFjdGl2ZWVQbGFuczogMCxcbiAgICAgICAgdG90YWxNb250aGx5UmV2ZW51ZTogMCxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGZvciAoY29uc3QgW3BsYW5JZCwgcGxhbl0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5wbGFucykpIHtcbiAgICAgIGNvbnN0IHBsYW5SZXBvcnQgPSB7XG4gICAgICAgIGlkOiBwbGFuSWQsXG4gICAgICAgIG5hbWU6IHBsYW4ubmFtZSxcbiAgICAgICAgbW9udGhseVByaWNlOiBwbGFuLm1vbnRobHlQcmljZSxcbiAgICAgICAgZGFpbHlMaW1pdHM6IHBsYW4uZGFpbHlMaW1pdHMsXG4gICAgICAgIGZlYXR1cmVzOiBwbGFuLmZlYXR1cmVzLFxuICAgICAgICBtYXJnaW5UYXJnZXQ6IHBsYW4ubWFyZ2luVGFyZ2V0LFxuICAgICAgICBzdGF0dXM6IHBsYW4uc3RhdHVzLFxuICAgICAgfTtcblxuICAgICAgcmVwb3J0LnBsYW5zLnB1c2gocGxhblJlcG9ydCk7XG4gICAgICByZXBvcnQuc3VtbWFyeS50b3RhbFBsYW5zKys7XG5cbiAgICAgIGlmIChwbGFuLnN0YXR1cyA9PT0gJ0FDVElWRScpIHtcbiAgICAgICAgcmVwb3J0LnN1bW1hcnkuYWN0aXZlZVBsYW5zKys7XG4gICAgICAgIHJlcG9ydC5zdW1tYXJ5LnRvdGFsTW9udGhseVJldmVudWUgKz0gcGxhbi5tb250aGx5UHJpY2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcG9ydDtcbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGFyIHNlIGVzcGVjaWFsaXN0YSBlc3TDoSBkaXNwb27DrXZlbCBubyBwbGFub1xuICAgKi9cbiAgY2FuVXNlU3BlY2lhbGlzdChwbGFuTmFtZSwgc3BlY2lhbGlzdENvdW50KSB7XG4gICAgY29uc3QgcGxhbiA9IHRoaXMucGxhbnNbcGxhbk5hbWVdO1xuICAgIGlmICghcGxhbikgcmV0dXJuIGZhbHNlO1xuXG4gICAgcmV0dXJuIHNwZWNpYWxpc3RDb3VudCA8PSBwbGFuLmZlYXR1cmVzLnNwZWNpYWxpc3RzO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXIgc2UgbW9kbyBlc3TDoSBkaXNwb27DrXZlbCBubyBwbGFub1xuICAgKi9cbiAgY2FuVXNlTW9kZShwbGFuTmFtZSwgbW9kZSkge1xuICAgIGNvbnN0IHBsYW4gPSB0aGlzLnBsYW5zW3BsYW5OYW1lXTtcbiAgICBpZiAoIXBsYW4pIHJldHVybiBmYWxzZTtcblxuICAgIHJldHVybiBwbGFuLmZlYXR1cmVzLm1vZGVzLmluY2x1ZGVzKG1vZGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIE9idGVyIGNyw6lkaXRvcyByZXN0YW50ZXMgZG8gZGlhXG4gICAqL1xuICBnZXRSZW1haW5pbmdDcmVkaXRzVG9kYXkocGxhbk5hbWUsIHVzZWRDcmVkaXRzKSB7XG4gICAgY29uc3QgcGxhbiA9IHRoaXMucGxhbnNbcGxhbk5hbWVdO1xuICAgIGlmICghcGxhbiB8fCBwbGFuLmRhaWx5TGltaXRzLnRvdGFsQ3JlZGl0cyA9PT0gLTEpIHtcbiAgICAgIHJldHVybiAtMTsgLy8gU2VtIGxpbWl0ZVxuICAgIH1cblxuICAgIHJldHVybiBNYXRoLm1heCgwLCBwbGFuLmRhaWx5TGltaXRzLnRvdGFsQ3JlZGl0cyAtIHVzZWRDcmVkaXRzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDcmVkaXRDYWxjdWxhdG9yO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTUEsZ0JBQWdCLENBQUM7RUFDckJDLFdBQVdBLENBQUEsRUFBRztJQUNaO0lBQ0EsSUFBSSxDQUFDQyxPQUFPLEdBQUc7TUFDYixrQkFBa0IsRUFBRTtRQUNsQkMsS0FBSyxFQUFFLEtBQUs7UUFBTztRQUNuQkMsTUFBTSxFQUFFLEdBQUcsQ0FBUTtNQUNyQixDQUFDO01BQ0QsZ0JBQWdCLEVBQUU7UUFDaEJELEtBQUssRUFBRSxHQUFHO1FBQVM7UUFDbkJDLE1BQU0sRUFBRSxHQUFHLENBQVE7TUFDckIsQ0FBQztNQUNELFlBQVksRUFBRTtRQUNaRCxLQUFLLEVBQUUsSUFB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SUFBSSxDQUFDRCxVQUFVLENBQUM7TUFDN0JSLE1BQU0sQ0FBQ0ksT0FBTyxDQUFDQyxVQUFVLEVBQUU7TUFFM0IsSUFBSTFDLElBQUksQ0FBQzNCLE1BQU0sS0FBSyxRQUFRLEVBQUU7UUFDNUJnRSxNQUFNLENBQUNJLE9BQU8sQ0FBQ0UsWUFBWSxFQUFFO1FBQzdCTixNQUFNLENBQUNJLE9BQU8sQ0FBQ0csbUJBQW1CLElBQUk1QyxJQUFJLENBQUN4QyxZQUFZO01BQ3pEO0lBQ0Y7SUFFQSxPQUFPNkUsTUFBTTtFQUNmOztFQUVBO0FBQ0Y7QUFDQTtFQUNFVSxnQkFBZ0JBLENBQUN0QyxRQUFRLEVBQUV1QyxlQUFlLEVBQUU7SUFDMUMsTUFBTWhELElBQUksR0FBRyxJQUFJLENBQUMxQyxLQUFLLENBQUNtRCxRQUFRLENBQUM7SUFDakMsSUFBSSxDQUFDVCxJQUFJLEVBQUUsT0FBTyxLQUFLO0lBRXZCLE9BQU9nRCxlQUFlLElBQUloRCxJQUFJLENBQUNuQyxRQUFRLENBQUNDLFdBQVc7RUFDckQ7O0VBRUE7QUFDRjtBQUNBO0VBQ0VtRixVQUFVQSxDQUFDeEMsUUFBUSxFQUFFN0IsSUFBSSxFQUFFO0lBQ3pCLE1BQU1vQixJQUFJLEdBQUcsSUFBSSxDQUFDMUMsS0FBSyxDQUFDbUQsUUFBUSxDQUFDO0lBQ2pDLElBQUksQ0FBQ1QsSUFBSSxFQUFFLE9BQU8sS0FBSztJQUV2QixPQUFPQSxJQUFJLENBQUNuQyxRQUFRLENBQUNFLEtBQUssQ0FBQ21GLFFBQVEsQ0FBQ3RFLElBQUksQ0FBQztFQUMzQzs7RUFFQTtBQUNGO0FBQ0E7RUFDRXVFLHdCQUF3QkEsQ0FBQzFDLFFBQVEsRUFBRTJDLFdBQVcsRUFBRTtJQUM5QyxNQUFNcEQsSUFBSSxHQUFHLElBQUksQ0FBQzFDLEtBQUssQ0FBQ21ELFFBQVEsQ0FBQztJQUNqQyxJQUFJLENBQUNULElBQUksSUFBSUEsSUFBSSxDQUFDdkMsV0FBVyxDQUFDRyxZQUFZLEtBQUssQ0FBQyxDQUFDLEVBQUU7TUFDakQsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2I7SUFFQSxPQUFPc0MsSUFBSSxDQUFDbUQsR0FBRyxDQUFDLENBQUMsRUFBRXJELElBQUksQ0FBQ3ZDLFdBQVcsQ0FBQ0csWUFBWSxHQUFHd0YsV0FBVyxDQUFDO0VBQ2pFO0FBQ0Y7QUFBQyxJQUFBRSxRQUFBLEdBQUFDLE9BQUEsQ0FBQUMsT0FBQSxHQUVjeEcsZ0JBQWdCIiwiaWdub3JlTGlzdCI6W119