{"version":3,"names":["_react","_interopRequireDefault","require","_react2","_ComplianceViewer","_jsxRuntime","e","__esModule","default","describe","test","render","jsx","expect","screen","getByText","toBeInTheDocument","pendingElements","getAllByText","length","toBeGreaterThan","compliance","abnt","status","checks","name","message","legal","privacy","passElements","content"],"sources":["ComplianceViewer.test.jsx"],"sourcesContent":["/**\n * Tests for ComplianceViewer Component (Layer 4)\n */\n\nimport React from 'react';\nimport { render, screen } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport ComplianceViewer from './ComplianceViewer.jsx';\n\ndescribe('ComplianceViewer Component', () => {\n  test('renders compliance viewer with default state', () => {\n    render(<ComplianceViewer />);\n    expect(screen.getByText(/Layer 4: Compliance Check/i)).toBeInTheDocument();\n    expect(screen.getByText(/ABNT, Legal, and Privacy compliance verification/i)).toBeInTheDocument();\n  });\n\n  test('displays all 3 compliance categories', () => {\n    render(<ComplianceViewer />);\n    expect(screen.getByText('ABNT Formatting')).toBeInTheDocument();\n    expect(screen.getByText('Legal Checks')).toBeInTheDocument();\n    expect(screen.getByText('Privacy/LGPD')).toBeInTheDocument();\n  });\n\n  test('shows compliance score', () => {\n    render(<ComplianceViewer />);\n    expect(screen.getByText(/Compliance Score/i)).toBeInTheDocument();\n  });\n\n  test('displays PENDING status by default', () => {\n    render(<ComplianceViewer />);\n    const pendingElements = screen.getAllByText('PENDING');\n    expect(pendingElements.length).toBeGreaterThan(0);\n  });\n\n  test('shows PASS status for compliant checks', () => {\n    const compliance = {\n      abnt: {\n        status: 'PASS',\n        checks: [\n          { name: 'Paragraph Structure', status: 'PASS', message: 'Looks good' },\n        ],\n      },\n      legal: {\n        status: 'PASS',\n        checks: [],\n      },\n      privacy: {\n        status: 'PASS',\n        checks: [],\n      },\n    };\n\n    render(<ComplianceViewer compliance={compliance} />);\n    const passElements = screen.getAllByText('PASS');\n    expect(passElements.length).toBeGreaterThan(0);\n  });\n\n  test('displays individual check results', () => {\n    const compliance = {\n      abnt: {\n        status: 'PASS',\n        checks: [\n          { name: 'Paragraph Structure', status: 'PASS', message: 'Content follows proper structure' },\n          { name: 'Citation Format', status: 'PASS', message: 'Citations are correct' },\n        ],\n      },\n      legal: {\n        status: 'PASS',\n        checks: [],\n      },\n      privacy: {\n        status: 'PASS',\n        checks: [],\n      },\n    };\n\n    render(<ComplianceViewer compliance={compliance} />);\n    expect(screen.getByText('Paragraph Structure')).toBeInTheDocument();\n    expect(screen.getByText('Citation Format')).toBeInTheDocument();\n  });\n\n  test('shows WARNING status when issues are detected', () => {\n    const compliance = {\n      abnt: {\n        status: 'WARNING',\n        checks: [\n          { name: 'Academic Tone', status: 'WARNING', message: 'Informal language detected' },\n        ],\n      },\n      legal: {\n        status: 'PASS',\n        checks: [],\n      },\n      privacy: {\n        status: 'PASS',\n        checks: [],\n      },\n    };\n\n    render(<ComplianceViewer compliance={compliance} />);\n    expect(screen.getByText('WARNING')).toBeInTheDocument();\n    expect(screen.getByText('Academic Tone')).toBeInTheDocument();\n  });\n\n  test('displays compliance applied message when content is provided', () => {\n    render(<ComplianceViewer content=\"Sample content\" />);\n    expect(screen.getByText(/Compliance Applied/i)).toBeInTheDocument();\n  });\n\n  test('calculates compliance score correctly', () => {\n    const compliance = {\n      abnt: {\n        status: 'PASS',\n        checks: [\n          { name: 'Check 1', status: 'PASS' },\n          { name: 'Check 2', status: 'PASS' },\n        ],\n      },\n      legal: {\n        status: 'PASS',\n        checks: [\n          { name: 'Check 3', status: 'PASS' },\n        ],\n      },\n      privacy: {\n        status: 'WARNING',\n        checks: [\n          { name: 'Check 4', status: 'WARNING' },\n        ],\n      },\n    };\n\n    render(<ComplianceViewer compliance={compliance} />);\n    // Score should be 75% (3 out of 4 passed)\n    expect(screen.getByText(/75%/i)).toBeInTheDocument();\n  });\n\n  test('handles empty checks gracefully', () => {\n    const compliance = {\n      abnt: { status: 'PENDING', checks: [] },\n      legal: { status: 'PENDING', checks: [] },\n      privacy: { status: 'PENDING', checks: [] },\n    };\n\n    render(<ComplianceViewer compliance={compliance} />);\n    expect(screen.getByText(/Layer 4: Compliance Check/i)).toBeInTheDocument();\n  });\n});\n"],"mappings":";;AAIA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAD,OAAA;AACAA,OAAA;AACA,IAAAE,iBAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsD,IAAAG,WAAA,GAAAH,OAAA;AAAA,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAPtD;AACA;AACA;;AAOAG,QAAQ,CAAC,4BAA4B,EAAE,MAAM;EAC3CC,IAAI,CAAC,8CAA8C,EAAE,MAAM;IACzD,IAAAC,cAAM,eAAC,IAAAN,WAAA,CAAAO,GAAA,EAACR,iBAAA,CAAAI,OAAgB,IAAE,CAAC,CAAC;IAC5BK,MAAM,CAACC,cAAM,CAACC,SAAS,CAAC,4BAA4B,CAAC,CAAC,CAACC,iBAAiB,CAAC,CAAC;IAC1EH,MAAM,CAACC,cAAM,CAACC,SAAS,CAAC,mDAAmD,CAAC,CAAC,CAACC,iBAAiB,CAAC,CAAC;EACnG,CAAC,CAAC;EAEFN,IAAI,CAAC,sCAAsC,EAAE,MAAM;IACjD,IAAAC,cAAM,eAAC,IAAAN,WAAA,CAAAO,GAAA,EAACR,iBAAA,CAAAI,OAAgB,IAAE,CAAC,CAAC;IAC5BK,MAAM,CAACC,cAAM,CAACC,SAAS,CAAC,iBAAiB,CAAC,CAAC,CAACC,iBAAiB,CAAC,CAAC;IAC/DH,MAAM,CAACC,cAAM,CAACC,SAAS,CAAC,cAAc,CAAC,CAAC,CAACC,iBAAiB,CAAC,CAAC;IAC5DH,MAAM,CAACC,cAAM,CAACC,SAAS,CAAC,cAAc,CAAC,CAAC,CAACC,iBAAiB,CAAC,CAAC;EAC9D,CAAC,CAAC;EAEFN,IAAI,CAAC,wBAAwB,EAAE,MAAM;IACnC,IAAAC,cAAM,eAAC,IAAAN,WAAA,CAAAO,GAAA,EAACR,iBAAA,CAAAI,OAAgB,IAAE,CAAC,CAAC;IAC5BK,MAAM,CAACC,cAAM,CAACC,SAAS,CAAC,mBAAmB,CAAC,CAAC,CAACC,iBAAiB,CAAC,CAAC;EACnE,CAAC,CAAC;EAEFN,IAAI,CAAC,oCAAoC,EAAE,MAAM;IAC/C,IAAAC,cAAM,eAAC,IAAAN,WAAA,CAAAO,GAAA,EAACR,iBAAA,CAAAI,OAAgB,IAAE,CAAC,CAAC;IAC5B,MAAMS,eAAe,GAAGH,cAAM,CAACI,YAAY,CAAC,SAAS,CAAC;IACtDL,MAAM,CAACI,eAAe,CAACE,MAAM,CAAC,CAACC,eAAe,CAAC,CAAC,CAAC;EACnD,CAAC,CAAC;EAEFV,IAAI,CAAC,wCAAwC,EAAE,MAAM;IACnD,MAAMW,UAAU,GAAG;MACjBC,IAAI,EAAE;QACJC,MAAM,EAAE,MAAM;QACdC,MAAM,EAAE,CACN;UAAEC,IAAI,EAAE,qBAAqB;UAAEF,MAAM,EAAE,MAAM;UAAEG,OAAO,EAAE;QAAa,CAAC;MAE1E,CAAC;MACDC,KAAK,EAAE;QACLJ,MAAM,EAAE,MAAM;QACdC,MAAM,EAAE;MACV,CAAC;MACDI,OAAO,EAAE;QACPL,MAAM,EAAE,MAAM;QACdC,MAAM,EAAE;MACV;IACF,CAAC;IAED,IAAAb,cAAM,eAAC,IAAAN,WAAA,CAAAO,GAAA,EAACR,iBAAA,CAAAI,OAAgB;MAACa,UAAU,EAAEA;IAAW,CAAE,CAAC,CAAC;IACpD,MAAMQ,YAAY,GAAGf,cAAM,CAACI,YAAY,CAAC,MAAM,CAAC;IAChDL,MAAM,CAACgB,YAAY,CAACV,MAAM,CAAC,CAACC,eAAe,CAAC,CAAC,CAAC;EAChD,CAAC,CAAC;EAEFV,IAAI,CAAC,mCAAmC,EAAE,MAAM;IAC9C,MAAMW,UAAU,GAAG;MACjBC,IAAI,EAAE;QACJC,MAAM,EAAE,MAAM;QACdC,MAAM,EAAE,CACN;UAAEC,IAAI,EAAE,qBAAqB;UAAEF,MAAM,EAAE,MAAM;UAAEG,OAAO,EAAE;QAAmC,CAAC,EAC5F;UAAED,IAAI,EAAE,iBAAiB;UAAEF,MAAM,EAAE,MAAM;UAAEG,OAAO,EAAE;QAAwB,CAAC;MAEjF,CAAC;MACDC,KAAK,EAAE;QACLJ,MAAM,EAAE,MAAM;QACdC,MAAM,EAAE;MACV,CAAC;MACDI,OAAO,EAAE;QACPL,MAAM,EAAE,MAAM;QACdC,MAAM,EAAE;MACV;IACF,CAAC;IAED,IAAAb,cAAM,eAAC,IAAAN,WAAA,CAAAO,GAAA,EAACR,iBAAA,CAAAI,OAAgB;MAACa,UAAU,EAAEA;IAAW,CAAE,CAAC,CAAC;IACpDR,MAAM,CAACC,cAAM,CAACC,SAAS,CAAC,qBAAqB,CAAC,CAAC,CAACC,iBAAiB,CAAC,CAAC;IACnEH,MAAM,CAACC,cAAM,CAACC,SAAS,CAAC,iBAAiB,CAAC,CAAC,CAACC,iBAAiB,CAAC,CAAC;EACjE,CAAC,CAAC;EAEFN,IAAI,CAAC,+CAA+C,EAAE,MAAM;IAC1D,MAAMW,UAAU,GAAG;MACjBC,IAAI,EAAE;QACJC,MAAM,EAAE,SAAS;QACjBC,MAAM,EAAE,CACN;UAAEC,IAAI,EAAE,eAAe;UAAEF,MAAM,EAAE,SAAS;UAAEG,OAAO,EAAE;QAA6B,CAAC;MAEvF,CAAC;MACDC,KAAK,EAAE;QACLJ,MAAM,EAAE,MAAM;QACdC,MAAM,EAAE;MACV,CAAC;MACDI,OAAO,EAAE;QACPL,MAAM,EAAE,MAAM;QACdC,MAAM,EAAE;MACV;IACF,CAAC;IAED,IAAAb,cAAM,eAAC,IAAAN,WAAA,CAAAO,GAAA,EAACR,iBAAA,CAAAI,OAAgB;MAACa,UAAU,EAAEA;IAAW,CAAE,CAAC,CAAC;IACpDR,MAAM,CAACC,cAAM,CAACC,SAAS,CAAC,SAAS,CAAC,CAAC,CAACC,iBAAiB,CAAC,CAAC;IACvDH,MAAM,CAACC,cAAM,CAACC,SAAS,CAAC,eAAe,CAAC,CAAC,CAACC,iBAAiB,CAAC,CAAC;EAC/D,CAAC,CAAC;EAEFN,IAAI,CAAC,8DAA8D,EAAE,MAAM;IACzE,IAAAC,cAAM,eAAC,IAAAN,WAAA,CAAAO,GAAA,EAACR,iBAAA,CAAAI,OAAgB;MAACsB,OAAO,EAAC;IAAgB,CAAE,CAAC,CAAC;IACrDjB,MAAM,CAACC,cAAM,CAACC,SAAS,CAAC,qBAAqB,CAAC,CAAC,CAACC,iBAAiB,CAAC,CAAC;EACrE,CAAC,CAAC;EAEFN,IAAI,CAAC,uCAAuC,EAAE,MAAM;IAClD,MAAMW,UAAU,GAAG;MACjBC,IAAI,EAAE;QACJC,MAAM,EAAE,MAAM;QACdC,MAAM,EAAE,CACN;UAAEC,IAAI,EAAE,SAAS;UAAEF,MAAM,EAAE;QAAO,CAAC,EACnC;UAAEE,IAAI,EAAE,SAAS;UAAEF,MAAM,EAAE;QAAO,CAAC;MAEvC,CAAC;MACDI,KAAK,EAAE;QACLJ,MAAM,EAAE,MAAM;QACdC,MAAM,EAAE,CACN;UAAEC,IAAI,EAAE,SAAS;UAAEF,MAAM,EAAE;QAAO,CAAC;MAEvC,CAAC;MACDK,OAAO,EAAE;QACPL,MAAM,EAAE,SAAS;QACjBC,MAAM,EAAE,CACN;UAAEC,IAAI,EAAE,SAAS;UAAEF,MAAM,EAAE;QAAU,CAAC;MAE1C;IACF,CAAC;IAED,IAAAZ,cAAM,eAAC,IAAAN,WAAA,CAAAO,GAAA,EAACR,iBAAA,CAAAI,OAAgB;MAACa,UAAU,EAAEA;IAAW,CAAE,CAAC,CAAC;IACpD;IACAR,MAAM,CAACC,cAAM,CAACC,SAAS,CAAC,MAAM,CAAC,CAAC,CAACC,iBAAiB,CAAC,CAAC;EACtD,CAAC,CAAC;EAEFN,IAAI,CAAC,iCAAiC,EAAE,MAAM;IAC5C,MAAMW,UAAU,GAAG;MACjBC,IAAI,EAAE;QAAEC,MAAM,EAAE,SAAS;QAAEC,MAAM,EAAE;MAAG,CAAC;MACvCG,KAAK,EAAE;QAAEJ,MAAM,EAAE,SAAS;QAAEC,MAAM,EAAE;MAAG,CAAC;MACxCI,OAAO,EAAE;QAAEL,MAAM,EAAE,SAAS;QAAEC,MAAM,EAAE;MAAG;IAC3C,CAAC;IAED,IAAAb,cAAM,eAAC,IAAAN,WAAA,CAAAO,GAAA,EAACR,iBAAA,CAAAI,OAAgB;MAACa,UAAU,EAAEA;IAAW,CAAE,CAAC,CAAC;IACpDR,MAAM,CAACC,cAAM,CAACC,SAAS,CAAC,4BAA4B,CAAC,CAAC,CAACC,iBAAiB,CAAC,CAAC;EAC5E,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}